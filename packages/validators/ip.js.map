{"version":3,"file":"ip.js","names":["_isIP","_interopRequireDefault","require","_listify","_params","_errors","_default","config","params","cleanParams","field","optional","default","undefined","list","validate","value","errors","isIP","validator","Object","assign","type","listify","exports","module"],"sources":["src/ip.js"],"sourcesContent":["import isIP from 'validator/lib/isIP';\nimport listify from './listify';\nimport cleanParams from './lib/params';\nimport errors from './lib/errors';\n\nexport default config => {\n  const params = cleanParams('ip', config, {\n    field: false,\n    optional: true,\n    default: undefined,\n    list: false\n  });\n\n  const validate = value => {\n    if (value === undefined && (params.default !== undefined || params.optional)) {\n      return params.default;\n    }\n\n    if (value === undefined) {\n      throw errors(params, value, 'ip.required', 'an ip address is required');\n    }\n\n    if (!isIP(value)) {\n      throw errors(params, value, 'ip.invalid', 'ip address is invalid');\n    }\n\n    return value;\n  };\n\n  const validator = Object.assign(validate, {\n    type: 'ip',\n    field: params.field\n  });\n\n  return params.list ? listify(validator, params) : validator;\n};\n"],"mappings":";;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAkC,IAAAI,QAAA,GAEnBC,MAAM,IAAI;EACvB,MAAMC,MAAM,GAAG,IAAAC,eAAW,EAAC,IAAI,EAAEF,MAAM,EAAE;IACvCG,KAAK,EAAE,KAAK;IACZC,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAEC,SAAS;IAClBC,IAAI,EAAE;EACR,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGC,KAAK,IAAI;IACxB,IAAIA,KAAK,KAAKH,SAAS,KAAKL,MAAM,CAACI,OAAO,KAAKC,SAAS,IAAIL,MAAM,CAACG,QAAQ,CAAC,EAAE;MAC5E,OAAOH,MAAM,CAACI,OAAO;IACvB;IAEA,IAAII,KAAK,KAAKH,SAAS,EAAE;MACvB,MAAM,IAAAI,eAAM,EAACT,MAAM,EAAEQ,KAAK,EAAE,aAAa,EAAE,2BAA2B,CAAC;IACzE;IAEA,IAAI,CAAC,IAAAE,aAAI,EAACF,KAAK,CAAC,EAAE;MAChB,MAAM,IAAAC,eAAM,EAACT,MAAM,EAAEQ,KAAK,EAAE,YAAY,EAAE,uBAAuB,CAAC;IACpE;IAEA,OAAOA,KAAK;EACd,CAAC;EAED,MAAMG,SAAS,GAAGC,MAAM,CAACC,MAAM,CAACN,QAAQ,EAAE;IACxCO,IAAI,EAAE,IAAI;IACVZ,KAAK,EAAEF,MAAM,CAACE;EAChB,CAAC,CAAC;EAEF,OAAOF,MAAM,CAACM,IAAI,GAAG,IAAAS,gBAAO,EAACJ,SAAS,EAAEX,MAAM,CAAC,GAAGW,SAAS;AAC7D,CAAC;AAAAK,OAAA,CAAAZ,OAAA,GAAAN,QAAA;AAAAmB,MAAA,CAAAD,OAAA,GAAAA,OAAA,CAAAZ,OAAA","ignoreList":[]}