{"version":3,"file":"set.js","names":["_default","validators","options","arguments","length","undefined","params","_objectSpread2","default","compact","Object","assign","validate","valuesSet","errors","clean","compacted","forEach","validator","matchingValue","filter","v","field","value","push","e","concat","c","type","module","exports"],"sources":["src/set.js"],"sourcesContent":["export default (validators, options = {}) => {\n  const params = {\n    compact: false,\n    ...options,\n  };\n\n  return Object.assign(function validate(valuesSet) {\n    let errors = []; const clean = []; const\n      compacted = {};\n\n    validators.forEach((validator) => {\n      let matchingValue = valuesSet.filter((v) => v.field === validator.field);\n\n      matchingValue = matchingValue.length ? matchingValue[0] : { field: validator.field, value: undefined };\n\n      try {\n        clean.push({\n          field: matchingValue.field,\n          value: validator(matchingValue.value),\n        });\n      } catch (e) {\n        errors = errors.concat(e);\n      }\n    });\n\n    if (errors.length) {\n      throw errors;\n    }\n\n    if (params.compact) {\n      clean.forEach((c) => {\n        compacted[c.field] = c.value;\n      });\n\n      return compacted;\n    }\n\n    return clean;\n  }, {\n    type: 'set',\n  });\n};\n"],"mappings":";;;;;;;;iCAAe,SAAAA,SAACC,UAAU,EAAmB;EAAA,IAAjBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACtC,MAAMG,MAAM,OAAAC,cAAA,CAAAC,OAAA;IACVC,OAAO,EAAE;EAAK,GACXP,OAAO,CACX;EAED,OAAOQ,MAAM,CAACC,MAAM,CAAC,SAASC,QAAQA,CAACC,SAAS,EAAE;IAChD,IAAIC,MAAM,GAAG,EAAE;IAAE,MAAMC,KAAK,GAAG,EAAE;IAAE,MACjCC,SAAS,GAAG,CAAC,CAAC;IAEhBf,UAAU,CAACgB,OAAO,CAAEC,SAAS,IAAK;MAChC,IAAIC,aAAa,GAAGN,SAAS,CAACO,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,KAAK,KAAKJ,SAAS,CAACI,KAAK,CAAC;MAExEH,aAAa,GAAGA,aAAa,CAACf,MAAM,GAAGe,aAAa,CAAC,CAAC,CAAC,GAAG;QAAEG,KAAK,EAAEJ,SAAS,CAACI,KAAK;QAAEC,KAAK,EAAElB;MAAU,CAAC;MAEtG,IAAI;QACFU,KAAK,CAACS,IAAI,CAAC;UACTF,KAAK,EAAEH,aAAa,CAACG,KAAK;UAC1BC,KAAK,EAAEL,SAAS,CAACC,aAAa,CAACI,KAAK;QACtC,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOE,CAAC,EAAE;QACVX,MAAM,GAAGA,MAAM,CAACY,MAAM,CAACD,CAAC,CAAC;MAC3B;IACF,CAAC,CAAC;IAEF,IAAIX,MAAM,CAACV,MAAM,EAAE;MACjB,MAAMU,MAAM;IACd;IAEA,IAAIR,MAAM,CAACG,OAAO,EAAE;MAClBM,KAAK,CAACE,OAAO,CAAEU,CAAC,IAAK;QACnBX,SAAS,CAACW,CAAC,CAACL,KAAK,CAAC,GAAGK,CAAC,CAACJ,KAAK;MAC9B,CAAC,CAAC;MAEF,OAAOP,SAAS;IAClB;IAEA,OAAOD,KAAK;EACd,CAAC,EAAE;IACDa,IAAI,EAAE;EACR,CAAC,CAAC;AACJ,CAAC;AAAAC,MAAA,CAAAC,OAAA,GAAAA,OAAA,CAAAtB,OAAA","ignoreList":[]}