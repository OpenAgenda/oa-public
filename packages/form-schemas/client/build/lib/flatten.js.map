{"version":3,"file":"flatten.js","names":["ih","defineFlatteningUpdate","obj","lang","_context","_reduceInstanceProperty","call","update","f","_objectSpread","$set","_get","Object","keys","shift","field","options","optionsUpdate","o","i"],"sources":["../../src/lib/flatten.js"],"sourcesContent":["import _ from 'lodash';\nimport ih from 'immutability-helper';\n\nconst defineFlatteningUpdate = (obj, lang) =>\n  ['label', 'info', 'placeholder', 'sub', 'help'].reduce((update, f) => {\n    if (!obj[f] || typeof obj[f] === 'string') {\n      return update;\n    }\n    return {\n      ...update,\n      [f]: {\n        $set: _.get(obj[f], lang, obj[f][Object.keys(obj[f]).shift()]),\n      },\n    };\n  }, {});\n\nexport default (field, lang) => {\n  if (!field) return null;\n\n  const { options } = field;\n\n  const update = defineFlatteningUpdate(field, lang);\n\n  if (options) {\n    update.options = options.reduce(\n      (optionsUpdate, o, i) => ({\n        ...optionsUpdate,\n        [i]: defineFlatteningUpdate(o, lang),\n      }),\n      {},\n    );\n  }\n\n  return ih(field, update);\n};\n"],"mappings":";;;AACA,OAAOA,EAAE,MAAM,qBAAqB;AAEpC,MAAMC,sBAAsB,GAAGA,CAACC,GAAG,EAAEC,IAAI;EAAA,IAAAC,QAAA;EAAA,OACvCC,uBAAA,CAAAD,QAAA,IAAC,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,CAAC,EAAAE,IAAA,CAAAF,QAAA,EAAQ,CAACG,MAAM,EAAEC,CAAC,KAAK;IACpE,IAAI,CAACN,GAAG,CAACM,CAAC,CAAC,IAAI,OAAON,GAAG,CAACM,CAAC,CAAC,KAAK,QAAQ,EAAE;MACzC,OAAOD,MAAM;IACf;IACA,OAAAE,aAAA,CAAAA,aAAA,KACKF,MAAM;MACT,CAACC,CAAC,GAAG;QACHE,IAAI,EAAEC,IAAA,CAAMT,GAAG,CAACM,CAAC,CAAC,EAAEL,IAAI,EAAED,GAAG,CAACM,CAAC,CAAC,CAACI,MAAM,CAACC,IAAI,CAACX,GAAG,CAACM,CAAC,CAAC,CAAC,CAACM,KAAK,CAAC,CAAC,CAAC;MAC/D;IAAC;EAEL,CAAC,EAAE,CAAC,CAAC,CAAC;AAAA;AAER,eAAe,CAACC,KAAK,EAAEZ,IAAI,KAAK;EAC9B,IAAI,CAACY,KAAK,EAAE,OAAO,IAAI;EAEvB,MAAM;IAAEC;EAAQ,CAAC,GAAGD,KAAK;EAEzB,MAAMR,MAAM,GAAGN,sBAAsB,CAACc,KAAK,EAAEZ,IAAI,CAAC;EAElD,IAAIa,OAAO,EAAE;IACXT,MAAM,CAACS,OAAO,GAAGX,uBAAA,CAAAW,OAAO,EAAAV,IAAA,CAAPU,OAAO,EACtB,CAACC,aAAa,EAAEC,CAAC,EAAEC,CAAC,KAAAV,aAAA,CAAAA,aAAA,KACfQ,aAAa;MAChB,CAACE,CAAC,GAAGlB,sBAAsB,CAACiB,CAAC,EAAEf,IAAI;IAAC,EACpC,EACF,CAAC,CACH,CAAC;EACH;EAEA,OAAOH,EAAE,CAACe,KAAK,EAAER,MAAM,CAAC;AAC1B,CAAC","ignoreList":[]}