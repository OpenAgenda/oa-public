{"version":3,"file":"isFieldEnabled.js","names":["getWithFieldName","isObject","fileValueIsDefined","value","isFieldEnabled","field","values","disabledForm","arguments","length","undefined","enable","enableWith","relatedFieldValue","_get","isEnabledWithValue","relatedFieldValues","concat","filter","v","_includesInstanceProperty","call","Array","isArray","filename","originalName"],"sources":["../../src/lib/isFieldEnabled.js"],"sourcesContent":["import _ from 'lodash';\n\nimport getWithFieldName from '../iso/getWithFieldName.js';\nimport isObject from '../iso/isObject.js';\n\nconst fileValueIsDefined = (value) =>\n  'originalName' in value || 'filename' in value;\n\nexport default function isFieldEnabled(field, values, disabledForm = false) {\n  if (disabledForm) return false;\n\n  if (field.enable === false) return false;\n\n  if (!field.enableWith) return true;\n\n  const relatedFieldValue = _.get(values, getWithFieldName(field.enableWith));\n  const isEnabledWithValue = typeof field.enableWith === 'object';\n\n  if (isEnabledWithValue) {\n    const relatedFieldValues = [].concat(relatedFieldValue);\n    return !![]\n      .concat(field.enableWith.value)\n      .filter((v) => relatedFieldValues.includes(v)).length;\n  }\n\n  if (Array.isArray(relatedFieldValue)) {\n    return !!relatedFieldValue.length;\n  }\n\n  if (isObject(relatedFieldValue) && fileValueIsDefined(relatedFieldValue)) {\n    return !!(relatedFieldValue.filename || relatedFieldValue.originalName);\n  }\n\n  return !!relatedFieldValue;\n}\n"],"mappings":";;AAEA,OAAOA,gBAAgB,MAAM,4BAA4B;AACzD,OAAOC,QAAQ,MAAM,oBAAoB;AAEzC,MAAMC,kBAAkB,GAAIC,KAAK,IAC/B,cAAc,IAAIA,KAAK,IAAI,UAAU,IAAIA,KAAK;AAEhD,eAAe,SAASC,cAAcA,CAACC,KAAK,EAAEC,MAAM,EAAwB;EAAA,IAAtBC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EACxE,IAAID,YAAY,EAAE,OAAO,KAAK;EAE9B,IAAIF,KAAK,CAACM,MAAM,KAAK,KAAK,EAAE,OAAO,KAAK;EAExC,IAAI,CAACN,KAAK,CAACO,UAAU,EAAE,OAAO,IAAI;EAElC,MAAMC,iBAAiB,GAAGC,IAAA,CAAMR,MAAM,EAAEN,gBAAgB,CAACK,KAAK,CAACO,UAAU,CAAC,CAAC;EAC3E,MAAMG,kBAAkB,GAAG,OAAOV,KAAK,CAACO,UAAU,KAAK,QAAQ;EAE/D,IAAIG,kBAAkB,EAAE;IACtB,MAAMC,kBAAkB,GAAG,EAAE,CAACC,MAAM,CAACJ,iBAAiB,CAAC;IACvD,OAAO,CAAC,CAAC,EAAE,CACRI,MAAM,CAACZ,KAAK,CAACO,UAAU,CAACT,KAAK,CAAC,CAC9Be,MAAM,CAAEC,CAAC,IAAKC,yBAAA,CAAAJ,kBAAkB,EAAAK,IAAA,CAAlBL,kBAAkB,EAAUG,CAAC,CAAC,CAAC,CAACV,MAAM;EACzD;EAEA,IAAIa,KAAK,CAACC,OAAO,CAACV,iBAAiB,CAAC,EAAE;IACpC,OAAO,CAAC,CAACA,iBAAiB,CAACJ,MAAM;EACnC;EAEA,IAAIR,QAAQ,CAACY,iBAAiB,CAAC,IAAIX,kBAAkB,CAACW,iBAAiB,CAAC,EAAE;IACxE,OAAO,CAAC,EAAEA,iBAAiB,CAACW,QAAQ,IAAIX,iBAAiB,CAACY,YAAY,CAAC;EACzE;EAEA,OAAO,CAAC,CAACZ,iBAAiB;AAC5B","ignoreList":[]}