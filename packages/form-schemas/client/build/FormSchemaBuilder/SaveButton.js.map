{"version":3,"file":"SaveButton.js","names":["Spinner","classNames","makeLabelGetter","labels","saveStates","jsxDEV","_jsxDEV","Fragment","_Fragment","getLabel","_ref","saveState","lang","onClick","disabled","block","buttonClasses","btn","SAVED","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","LOADING","page","CHANGED","id","ERROR","htmlFor"],"sources":["../../src/FormSchemaBuilder/SaveButton.js"],"sourcesContent":["import { Spinner } from '@openagenda/react-shared';\nimport classNames from 'classnames';\n\nimport makeLabelGetter from '@openagenda/labels/makeLabelGetter.js';\n\nimport labels from './lib/labels.js';\nimport saveStates from './lib/saveStates.js';\n\nconst getLabel = makeLabelGetter(labels);\n\nexport default ({ saveState, lang, onClick, disabled, block }) => {\n  const buttonClasses = classNames({\n    btn: true,\n    'btn-success': saveState === saveStates.SAVED,\n    'btn-primary': saveState !== saveStates.SAVED,\n    'btn-block': block,\n    'pull-right': true,\n  });\n\n  if (saveState === saveStates.SAVED) {\n    return (\n      <button type=\"button\" disabled className={buttonClasses}>\n        {getLabel('buttonSaved', lang)}\n      </button>\n    );\n  }\n  if (saveState === saveStates.LOADING) {\n    return (\n      <>\n        <button type=\"button\" disabled className={buttonClasses}>\n          <span>{getLabel('buttonSave', lang)}</span>\n        </button>\n        <Spinner page />\n      </>\n    );\n  }\n  if (!disabled && saveState === saveStates.CHANGED) {\n    return (\n      <button\n        type=\"button\"\n        id=\"save\"\n        className={buttonClasses}\n        onClick={onClick}\n      >\n        {getLabel('buttonSave', lang)}\n      </button>\n    );\n  }\n  if (!disabled && saveState === saveStates.ERROR) {\n    return (\n      <>\n        <button type=\"button\" className={buttonClasses} onClick={onClick}>\n          {getLabel('buttonSave', lang)}\n        </button>\n        <label className=\"control-label\" htmlFor=\"save\">\n          {getLabel('buttonError', lang)}\n        </label>\n      </>\n    );\n  }\n\n  return (\n    <button type=\"button\" disabled className={buttonClasses}>\n      {getLabel('buttonSave', lang)}\n    </button>\n  );\n};\n"],"mappings":"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","ignoreList":[]}