{"version":3,"file":"Head.js","names":["getLocaleValue","getFieldTypeLabel","getLabel","isFieldOptional","isFieldDisplayed","isFieldMultilingual","isFieldLinked","getFieldTypeIcon","isAccessUndefined","getFieldAccess","getSummary","getLinkedFieldSummaryLabel","jsxDEV","_jsxDEV","Fragment","_Fragment","MAX_DISPLAYED_OPTIONS","renderSchemaInfo","schemaInfo","lang","title","detail","className","children","label","fileName","_jsxFileName","lineNumber","columnNumber","renderOptionsInfo","options","length","slice","map","option","index","getLabelPrefix","field","type","concat","Head","props","schema","has","hasIcon","iconClassName","htmlFor","role","fieldType","purpose"],"sources":["../../../src/FormSchemaBuilder/FieldPreview/Head.js"],"sourcesContent":["import { getLocaleValue } from '@openagenda/intl';\n\nimport getFieldTypeLabel from '../lib/getFieldTypeLabel.js';\n\nimport {\n  getLabel,\n  isFieldOptional,\n  isFieldDisplayed,\n  isFieldMultilingual,\n  isFieldLinked,\n  getFieldTypeIcon,\n  isAccessUndefined,\n  getFieldAccess,\n} from './utils.js';\n\nimport { getSummary as getLinkedFieldSummaryLabel } from './linkedFieldLabels.js';\n\nconst MAX_DISPLAYED_OPTIONS = 4;\n\nconst renderSchemaInfo = (schemaInfo, lang) => {\n  if (!schemaInfo) {\n    return null;\n  }\n  return (\n    <div\n      title={getLocaleValue(schemaInfo.detail, lang)}\n      className=\"margin-top-xs\"\n    >\n      {getLocaleValue(schemaInfo.label, lang)}\n    </div>\n  );\n};\n\nconst renderOptionsInfo = (options, lang) => {\n  if (!options) {\n    return null;\n  }\n  if (options.length >= MAX_DISPLAYED_OPTIONS) {\n    return (\n      <div className=\"margin-top-xs text-muted\">\n        {options?.slice(0, MAX_DISPLAYED_OPTIONS).map((option, index) => (\n          <span key={getLocaleValue(option.label, lang)}>\n            {getLocaleValue(option.label, lang)}\n            {index <= MAX_DISPLAYED_OPTIONS ? ', ' : ''}\n          </span>\n        ))}\n        <span>\n          {' '}\n          + {options.length - MAX_DISPLAYED_OPTIONS}{' '}\n          {getLabel('moreOptions', lang)}\n        </span>\n      </div>\n    );\n  }\n  return (\n    <div className=\"margin-top-xs text-muted\">\n      {options?.map((option, index) => (\n        <span key={getLocaleValue(option.label, lang)}>\n          {getLocaleValue(option.label, lang)}\n          {index < options.length - 1 ? ', ' : ''}\n        </span>\n      ))}\n    </div>\n  );\n};\n\nconst getLabelPrefix = (field, lang) => {\n  if (field.type !== 'section') {\n    return '';\n  }\n\n  if (!field.label) {\n    return getLabel('section', lang);\n  }\n\n  return `${getLabel('section', lang)}: `;\n};\n\nexport default function Head(props) {\n  const { field, lang, schema, schemaInfo } = props;\n\n  const { has: hasIcon, className: iconClassName } = getFieldTypeIcon(field);\n\n  return (\n    <>\n      <label\n        className=\"margin-right-xs margin-top-xs\"\n        htmlFor={\n          isFieldDisplayed(field)\n            ? `edit-${field.field}`\n            : `show-${field.field}`\n        }\n      >\n        {getLabelPrefix(field, lang)}\n        {getLocaleValue(field.label, lang)}\n      </label>\n      {isAccessUndefined(field) ? null : (\n        <span className=\"form-tooltip-icon icon-hide margin-right-xs\">\n          {hasIcon ? <i className=\"access\" /> : null}\n          <div className=\"tooltip right\" role=\"tooltip\">\n            <div className=\"tooltip-arrow\"> </div>\n            <div className=\"tooltip-inner\">{getFieldAccess(field, lang)}</div>\n          </div>\n        </span>\n      )}\n      {isFieldOptional(field) ? null : (\n        <span className=\"form-tooltip-icon icon-hide margin-right-xs\">\n          <i className=\"obligatoire\" />\n          <div className=\"tooltip right\" role=\"tooltip\">\n            <div className=\"tooltip-arrow\"> </div>\n            <div className=\"tooltip-inner\">\n              {getLabel('requiredField', lang)}\n            </div>\n          </div>\n        </span>\n      )}\n      {isFieldDisplayed(field) ? null : (\n        <span className=\"form-tooltip-icon icon-hide margin-right-xs\">\n          <i className=\"hidden-field\" />\n          <div className=\"tooltip right\" role=\"tooltip\">\n            <div className=\"tooltip-arrow\"> </div>\n            <div className=\"tooltip-inner\">{getLabel('hiddenField', lang)}</div>\n          </div>\n        </span>\n      )}\n      {field.fieldType ? (\n        <span className=\"form-tooltip-icon icon-hide margin-right-xs\">\n          {hasIcon ? <i className={iconClassName} /> : null}\n          <div className=\"tooltip right\" role=\"tooltip\">\n            <div className=\"tooltip-arrow\"> </div>\n            <div className=\"tooltip-inner\">\n              {getFieldTypeLabel(field, lang)}\n            </div>\n          </div>\n        </span>\n      ) : null}\n      {isFieldMultilingual(field) ? (\n        <span className=\"form-tooltip-icon icon-hide margin-right-xs\">\n          <i className=\"languages\" />\n          <div className=\"tooltip right\" role=\"tooltip\">\n            <div className=\"tooltip-arrow\"> </div>\n            <div className=\"tooltip-inner\">\n              {getLabel('isMultilingual', lang)}\n            </div>\n          </div>\n        </span>\n      ) : null}\n      {isFieldLinked(field) ? (\n        <span className=\"form-tooltip-icon icon-hide margin-right-xs\">\n          <i className=\"linked\" />\n          <div className=\"tooltip right\" role=\"tooltip\">\n            <div className=\"tooltip-arrow\"> </div>\n            <div className=\"tooltip-inner\">\n              {getLinkedFieldSummaryLabel({ field, lang, schema })}\n            </div>\n          </div>\n        </span>\n      ) : null}\n      {field.purpose ? (\n        <div className=\"margin-top-xs\">\n          {getLocaleValue(field.purpose, lang)}\n        </div>\n      )\n        : renderSchemaInfo(schemaInfo, lang)}\n      {renderOptionsInfo(field.options, lang)}\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]}