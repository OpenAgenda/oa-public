{"version":3,"file":"monolingualizeSchema.js","names":["extractSchemaLabelLanguages","labelKeys","flattenItem","item","languages","monolingualized","_reduceInstanceProperty","call","flat","key","candidate","_objectSpread","options","map","o","monolingualizeSchema","schema","fields","field"],"sources":["../../../src/FormSchemaBuilder/lib/monolingualizeSchema.js"],"sourcesContent":["import extractSchemaLabelLanguages from './extractSchemaLabelLanguages.js';\n\nconst labelKeys = ['label', 'info', 'placeholder', 'sub'];\n\nfunction flattenItem(item, languages) {\n  const monolingualized = labelKeys.reduce((flat, key) => {\n    if (typeof flat[key] === 'string' || !flat[key]) {\n      return flat;\n    }\n    for (const candidate of languages) {\n      if (flat[key][candidate]) {\n        return {\n          ...flat,\n          [key]: flat[key][candidate],\n        };\n      }\n    }\n\n    return flat;\n  }, item);\n\n  if (monolingualized.options) {\n    monolingualized.options = monolingualized.options.map((o) =>\n      flattenItem(o, languages));\n  }\n\n  return monolingualized;\n}\n\nexport default function monolingualizeSchema(schema) {\n  const languages = extractSchemaLabelLanguages(schema);\n\n  return {\n    ...schema,\n    fields: schema.fields.map((field) => flattenItem(field, languages)),\n  };\n}\n"],"mappings":";;;;AAAA,OAAOA,2BAA2B,MAAM,kCAAkC;AAE1E,MAAMC,SAAS,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,KAAK,CAAC;AAEzD,SAASC,WAAWA,CAACC,IAAI,EAAEC,SAAS,EAAE;EACpC,MAAMC,eAAe,GAAGC,uBAAA,CAAAL,SAAS,EAAAM,IAAA,CAATN,SAAS,EAAQ,CAACO,IAAI,EAAEC,GAAG,KAAK;IACtD,IAAI,OAAOD,IAAI,CAACC,GAAG,CAAC,KAAK,QAAQ,IAAI,CAACD,IAAI,CAACC,GAAG,CAAC,EAAE;MAC/C,OAAOD,IAAI;IACb;IACA,KAAK,MAAME,SAAS,IAAIN,SAAS,EAAE;MACjC,IAAII,IAAI,CAACC,GAAG,CAAC,CAACC,SAAS,CAAC,EAAE;QACxB,OAAAC,aAAA,CAAAA,aAAA,KACKH,IAAI;UACP,CAACC,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC,CAACC,SAAS;QAAC;MAE/B;IACF;IAEA,OAAOF,IAAI;EACb,CAAC,EAAEL,IAAI,CAAC;EAER,IAAIE,eAAe,CAACO,OAAO,EAAE;IAC3BP,eAAe,CAACO,OAAO,GAAGP,eAAe,CAACO,OAAO,CAACC,GAAG,CAAEC,CAAC,IACtDZ,WAAW,CAACY,CAAC,EAAEV,SAAS,CAAC,CAAC;EAC9B;EAEA,OAAOC,eAAe;AACxB;AAEA,eAAe,SAASU,oBAAoBA,CAACC,MAAM,EAAE;EACnD,MAAMZ,SAAS,GAAGJ,2BAA2B,CAACgB,MAAM,CAAC;EAErD,OAAAL,aAAA,CAAAA,aAAA,KACKK,MAAM;IACTC,MAAM,EAAED,MAAM,CAACC,MAAM,CAACJ,GAAG,CAAEK,KAAK,IAAKhB,WAAW,CAACgB,KAAK,EAAEd,SAAS,CAAC;EAAC;AAEvE","ignoreList":[]}