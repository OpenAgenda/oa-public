{"version":3,"file":"LabelLanguages.js","names":["Component","makeLabelGetter","Modal","Languages","labels","jsxDEV","_jsxDEV","Fragment","_Fragment","getLabel","LabelLanguages","constructor","props","state","editedLanguages","onEdit","e","preventDefault","labelLanguages","setState","applyLanguages","languages","arguments","length","undefined","onUpdate","renderEdit","lang","children","fileName","_jsxFileName","lineNumber","columnNumber","className","value","onChange","editedLanguagesUpdate","type","onClick","render","disabled","htmlFor","id","map","l","_toUpper","concat","bind","title","onClose"],"sources":["../../src/FormSchemaBuilder/LabelLanguages.js"],"sourcesContent":["import _ from 'lodash';\nimport { Component } from 'react';\n\nimport makeLabelGetter from '@openagenda/labels/makeLabelGetter.js';\nimport { Modal } from '@openagenda/react-shared';\n\nimport Languages from '../Components/Languages.js';\nimport labels from './lib/labels.js';\n\nconst getLabel = makeLabelGetter(labels);\n\nexport default class LabelLanguages extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editedLanguages: null,\n    };\n  }\n\n  onEdit(e) {\n    e.preventDefault();\n\n    const { labelLanguages } = this.props;\n\n    this.setState({\n      editedLanguages: labelLanguages,\n    });\n  }\n\n  applyLanguages(languages = []) {\n    const { onUpdate } = this.props;\n\n    onUpdate(languages);\n\n    this.setState({\n      editedLanguages: null,\n    });\n  }\n\n  renderEdit() {\n    const { lang } = this.props;\n\n    const { editedLanguages } = this.state;\n\n    return (\n      <div>\n        {editedLanguages.length ? (\n          <div>\n            <p>{getLabel('editLabelLanguagesInfo', lang)}</p>\n            <Languages\n              className=\"language-bar thin\"\n              lang={lang}\n              value={editedLanguages}\n              onChange={(editedLanguagesUpdate) =>\n                this.setState({\n                  editedLanguages: editedLanguagesUpdate,\n                })}\n            />\n            <div className=\"padding-top-md\">\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={() => this.applyLanguages(editedLanguages)}\n              >\n                {getLabel('submitLabelLanguages', lang)}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-danger pull-right\"\n                onClick={() => this.applyLanguages()}\n              >\n                {getLabel('removeLabelLanguages', lang)}\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div>\n            <p>{getLabel('monolingualLabels', lang)}</p>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => this.setState({ editedLanguages: [lang] })}\n            >\n              {getLabel('addLabelLanguages', lang)}\n            </button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { labelLanguages, lang, disabled } = this.props;\n    const { editedLanguages } = this.state;\n    return (\n      <>\n        <div className=\"margin-bottom-sm\">\n          <label\n            htmlFor=\"language-list\"\n            className=\"margin-right-xs margin-top-xs pull-left\"\n          >\n            {getLabel('multilingualLabels', lang)}\n          </label>\n          <div className=\"margin-v-xs pull-left\" id=\"language-list\">\n            {labelLanguages.length\n              ? labelLanguages.map((l) => (\n                <span\n                  key={`field-lang-${l}`}\n                  className=\"badge badge-default margin-right-xs\"\n                >\n                  {_.toUpper(l)}\n                </span>\n              ))\n              : null}\n          </div>\n          {labelLanguages.length ? (\n            <button\n              type=\"button\"\n              disabled={disabled}\n              className=\"btn btn-link\"\n              onClick={this.onEdit.bind(this)}\n            >\n              {getLabel('editLabelLanguages', lang)}\n            </button>\n          ) : (\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={disabled}\n              onClick={this.onEdit.bind(this)}\n            >\n              {getLabel('monolingualLabels', lang)}\n            </button>\n          )}\n        </div>\n        {editedLanguages ? (\n          <Modal\n            title={getLabel('editLabelLanguages', lang)}\n            onClose={() => this.setState({ editedLanguages: null })}\n          >\n            {this.renderEdit()}\n          </Modal>\n        ) : null}\n      </>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}