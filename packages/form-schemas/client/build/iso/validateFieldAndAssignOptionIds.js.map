{"version":3,"file":"validateFieldAndAssignOptionIds.js","names":["validateField","fieldHasUnnassignedOptions","fieldAssignOptionIds","fieldHasSuperiorOptions","validateFieldAndAssignOptionIds","dirtyField","_ref","custom","defaultLabelLanguage","nextOptionId","requireLabels","updatedNextOptionId","cleanField","_context","_reduceInstanceProperty","options","call","max","o","id","field"],"sources":["../../src/iso/validateFieldAndAssignOptionIds.js"],"sourcesContent":["import validateField from './validateField.js';\nimport {\n  fieldHasUnnassignedOptions,\n  fieldAssignOptionIds,\n  fieldHasSuperiorOptions,\n} from './fieldOptions.js';\n\nexport default function validateFieldAndAssignOptionIds(\n  dirtyField,\n  { custom, defaultLabelLanguage, nextOptionId, requireLabels },\n) {\n  let updatedNextOptionId = nextOptionId;\n\n  const cleanField = validateField(dirtyField, {\n    custom,\n    defaultLabelLanguage,\n    requireLabels,\n  });\n\n  if (fieldHasUnnassignedOptions(cleanField)) {\n    updatedNextOptionId = fieldAssignOptionIds(cleanField, nextOptionId);\n  } else if (fieldHasSuperiorOptions(cleanField, nextOptionId)) {\n    updatedNextOptionId = cleanField.options.reduce(\n      (max, o) => (max < o.id ? o.id : max),\n      updatedNextOptionId,\n    ) + 1;\n  }\n\n  return {\n    nextOptionId: updatedNextOptionId,\n    field: cleanField,\n  };\n}\n"],"mappings":";AAAA,OAAOA,aAAa,MAAM,oBAAoB;AAC9C,SACEC,0BAA0B,EAC1BC,oBAAoB,EACpBC,uBAAuB,QAClB,mBAAmB;AAE1B,eAAe,SAASC,+BAA+BA,CACrDC,UAAU,EAAAC,IAAA,EAEV;EAAA,IADA;IAAEC,MAAM;IAAEC,oBAAoB;IAAEC,YAAY;IAAEC;EAAc,CAAC,GAAAJ,IAAA;EAE7D,IAAIK,mBAAmB,GAAGF,YAAY;EAEtC,MAAMG,UAAU,GAAGZ,aAAa,CAACK,UAAU,EAAE;IAC3CE,MAAM;IACNC,oBAAoB;IACpBE;EACF,CAAC,CAAC;EAEF,IAAIT,0BAA0B,CAACW,UAAU,CAAC,EAAE;IAC1CD,mBAAmB,GAAGT,oBAAoB,CAACU,UAAU,EAAEH,YAAY,CAAC;EACtE,CAAC,MAAM,IAAIN,uBAAuB,CAACS,UAAU,EAAEH,YAAY,CAAC,EAAE;IAAA,IAAAI,QAAA;IAC5DF,mBAAmB,GAAGG,uBAAA,CAAAD,QAAA,GAAAD,UAAU,CAACG,OAAO,EAAAC,IAAA,CAAAH,QAAA,EACtC,CAACI,GAAG,EAAEC,CAAC,KAAMD,GAAG,GAAGC,CAAC,CAACC,EAAE,GAAGD,CAAC,CAACC,EAAE,GAAGF,GAAI,EACrCN,mBACF,CAAC,GAAG,CAAC;EACP;EAEA,OAAO;IACLF,YAAY,EAAEE,mBAAmB;IACjCS,KAAK,EAAER;EACT,CAAC;AACH","ignoreList":[]}