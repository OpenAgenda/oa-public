{"version":3,"file":"fieldOptions.js","names":["fieldHasUnnassignedOptions","field","_field$options","options","filter","o","id","undefined","length","fieldHasSuperiorOptions","nextOptionId","_field$options2","fieldAssignOptionIds","nextId","forEach","extractNextOptionId","formSchemaData","_formSchemaData$nextO","definedNextOptionId","optionIds","_uniq","_flatten","_get","f","map","biggestId","_reduceInstanceProperty","call","bId","optionId"],"sources":["../../src/iso/fieldOptions.js"],"sourcesContent":["import _ from 'lodash';\n\nconst fieldHasUnnassignedOptions = (field) =>\n  !!(field?.options ?? []).filter((o) => o.id === undefined).length;\nconst fieldHasSuperiorOptions = (field, nextOptionId) =>\n  !!(field?.options ?? []).filter((o) => o.id > nextOptionId).length;\n\nfunction fieldAssignOptionIds(field, nextOptionId) {\n  let nextId = nextOptionId;\n  field.options.forEach((o) => {\n    if (o.id !== undefined) {\n      return;\n    }\n    nextId += 1;\n    o.id = nextId;\n  });\n\n  return nextId;\n}\n\nfunction extractNextOptionId(formSchemaData) {\n  const definedNextOptionId = formSchemaData?.nextOptionId ?? 0;\n\n  const optionIds = _.uniq(\n    _.flatten(\n      _.get(formSchemaData, 'fields', [])\n        .filter((f) => f.options)\n        .map((f) => f.options),\n    ),\n  );\n\n  const biggestId = optionIds.reduce(\n    (bId, optionId) => (bId < optionId ? optionId : bId),\n    0,\n  );\n\n  return definedNextOptionId > biggestId ? definedNextOptionId : biggestId + 1;\n}\n\nexport {\n  extractNextOptionId,\n  fieldHasUnnassignedOptions,\n  fieldAssignOptionIds,\n  fieldHasSuperiorOptions,\n};\n"],"mappings":";;;;AAEA,MAAMA,0BAA0B,GAAIC,KAAK;EAAA,IAAAC,cAAA;EAAA,OACvC,CAAC,CAAC,EAAAA,cAAA,GAACD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,OAAO,cAAAD,cAAA,cAAAA,cAAA,GAAI,EAAE,EAAEE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKC,SAAS,CAAC,CAACC,MAAM;AAAA;AACnE,MAAMC,uBAAuB,GAAGA,CAACR,KAAK,EAAES,YAAY;EAAA,IAAAC,eAAA;EAAA,OAClD,CAAC,CAAC,EAAAA,eAAA,GAACV,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,OAAO,cAAAQ,eAAA,cAAAA,eAAA,GAAI,EAAE,EAAEP,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,GAAGI,YAAY,CAAC,CAACF,MAAM;AAAA;AAEpE,SAASI,oBAAoBA,CAACX,KAAK,EAAES,YAAY,EAAE;EACjD,IAAIG,MAAM,GAAGH,YAAY;EACzBT,KAAK,CAACE,OAAO,CAACW,OAAO,CAAET,CAAC,IAAK;IAC3B,IAAIA,CAAC,CAACC,EAAE,KAAKC,SAAS,EAAE;MACtB;IACF;IACAM,MAAM,IAAI,CAAC;IACXR,CAAC,CAACC,EAAE,GAAGO,MAAM;EACf,CAAC,CAAC;EAEF,OAAOA,MAAM;AACf;AAEA,SAASE,mBAAmBA,CAACC,cAAc,EAAE;EAAA,IAAAC,qBAAA;EAC3C,MAAMC,mBAAmB,IAAAD,qBAAA,GAAGD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEN,YAAY,cAAAO,qBAAA,cAAAA,qBAAA,GAAI,CAAC;EAE7D,MAAME,SAAS,GAAGC,KAAA,CAChBC,QAAA,CACEC,IAAA,CAAMN,cAAc,EAAE,QAAQ,EAAE,EAAE,CAAC,CAChCZ,MAAM,CAAEmB,CAAC,IAAKA,CAAC,CAACpB,OAAO,CAAC,CACxBqB,GAAG,CAAED,CAAC,IAAKA,CAAC,CAACpB,OAAO,CACzB,CACF,CAAC;EAED,MAAMsB,SAAS,GAAGC,uBAAA,CAAAP,SAAS,EAAAQ,IAAA,CAATR,SAAS,EACzB,CAACS,GAAG,EAAEC,QAAQ,KAAMD,GAAG,GAAGC,QAAQ,GAAGA,QAAQ,GAAGD,GAAI,EACpD,CACF,CAAC;EAED,OAAOV,mBAAmB,GAAGO,SAAS,GAAGP,mBAAmB,GAAGO,SAAS,GAAG,CAAC;AAC9E;AAEA,SACEV,mBAAmB,EACnBf,0BAA0B,EAC1BY,oBAAoB,EACpBH,uBAAuB","ignoreList":[]}