{"version":3,"file":"BooleanField.js","names":["useEffect","classNames","hasHelp","isFieldOptional","Help","jsxDEV","_jsxDEV","defineChecked","field","value","_context","default","defaultValue","hasDefinedValue","_includesInstanceProperty","undefined","call","hasDefaultValue","props","lang","labels","relatedValues","name","label","info","onChange","error","enabled","isOptional","checked","forceUncheckedBoxes","className","children","htmlFor","id","type","disabled","fileName","_jsxFileName","lineNumber","columnNumber","concat","required","help","link","helpLink","content","helpContent"],"sources":["../../src/Components/BooleanField.js"],"sourcesContent":["import { useEffect } from 'react';\nimport classNames from 'classnames';\nimport hasHelp from '../lib/hasHelp.js';\nimport isFieldOptional from '../lib/isFieldOptional.js';\nimport Help from './Help.js';\n\nfunction defineChecked(field, value) {\n  const { default: defaultValue } = field;\n\n  const hasDefinedValue = ![null, undefined].includes(value);\n  const hasDefaultValue = defaultValue !== undefined;\n\n  if (hasDefinedValue) {\n    return value;\n  }\n\n  if (hasDefaultValue) {\n    return defaultValue;\n  }\n\n  return false;\n}\n\nexport default (props) => {\n  const {\n    lang,\n    labels,\n    relatedValues,\n    field: { field: name, label, info },\n    onChange,\n    value,\n    error,\n    enabled,\n  } = props;\n\n  const { field } = props;\n\n  const isOptional = isFieldOptional(field, relatedValues);\n  const checked = defineChecked(field, value);\n\n  useEffect(function forceUncheckedBoxes() {\n    if (!enabled) {\n      return;\n    }\n    if (!checked && !value && value !== false) {\n      onChange(false);\n    }\n  }, []);\n\n  return (\n    <div className=\"checkbox\">\n      <label htmlFor={name}>\n        <input\n          id={name}\n          type=\"checkbox\"\n          name={name}\n          onChange={() => onChange(!checked)}\n          checked={checked}\n          disabled={!enabled}\n        />\n        <span\n          className={classNames({\n            'margin-right-xs': hasHelp(field) || !isOptional,\n          })}\n        >\n          {label}\n        </span>\n        {isOptional ? null : (\n          <span\n            className={classNames({\n              'margin-right-xs': hasHelp(field),\n              error: !!error,\n            })}\n          >\n            {`(${labels.required})`}\n          </span>\n        )}\n        {hasHelp(field) ? (\n          <Help\n            id={`help-${field.field}`}\n            label={field.help}\n            lang={lang}\n            link={field.helpLink}\n            content={field.helpContent}\n          />\n        ) : null}\n        {info ? <div className=\"text-muted\">{info}</div> : null}\n      </label>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}