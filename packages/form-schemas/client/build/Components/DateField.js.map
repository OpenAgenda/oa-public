{"version":3,"file":"DateField.js","names":["Calendar","Dropdown","format","rdrLocales","dateLabels","makeLabelGetter","jsxDEV","_jsxDEV","getLabel","getContent","value","placeholder","lang","getValueAsDate","v","Date","DateField","_ref","field","enabled","onChange","className","cleanValue","children","Trigger","props","_objectSpread","type","fileName","_jsxFileName","lineNumber","columnNumber","style","minWidth","date","locale","disabled","width"],"sources":["../../src/Components/DateField.js"],"sourcesContent":["import { Calendar } from 'react-date-range';\nimport { Dropdown } from '@openagenda/react-shared';\nimport { format } from 'date-fns';\nimport * as rdrLocales from 'react-date-range/dist/locale/index.js';\n\nimport dateLabels from '@openagenda/labels/form-schemas/date.js';\nimport makeLabelGetter from '@openagenda/labels';\n\nconst getLabel = makeLabelGetter(dateLabels);\n\n// if (import.meta.webpackHot) import.meta.webpackHot.accept();\n\nconst getContent = (value, placeholder, lang) => {\n  if (!value) return placeholder || getLabel('pickADate', lang);\n\n  return format(value, 'yyyy-MM-dd');\n};\n\nconst getValueAsDate = (v) => {\n  if (!v) return v;\n\n  return typeof v === 'string' ? new Date(v) : v;\n};\n\nfunction DateField({ field, value, enabled, onChange, lang, className }) {\n  const { placeholder } = field;\n\n  const cleanValue = getValueAsDate(value);\n\n  return (\n    <div className={className || ''}>\n      {enabled ? (\n        <Dropdown\n          className=\"dropdown btn-group open\"\n          Trigger={(props) => (\n            <button\n              type=\"button\"\n              {...props}\n              className=\"form-control btn btn-default\"\n            >\n              {getContent(cleanValue, placeholder, lang)}&nbsp;\n              <span className=\"caret\" />\n            </button>\n          )}\n        >\n          <div className=\"dropdown-calendar\" style={{ minWidth: '300px' }}>\n            <Calendar\n              date={cleanValue || null}\n              onChange={onChange}\n              locale={rdrLocales[lang]}\n            />\n          </div>\n        </Dropdown>\n      ) : (\n        <input\n          disabled\n          className=\"form-control inline\"\n          value={getContent(cleanValue, placeholder, lang)}\n          style={{ width: 'auto' }}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default DateField;\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,SAASC,MAAM,QAAQ,UAAU;AACjC,OAAO,KAAKC,UAAU,MAAM,uCAAuC;AAEnE,OAAOC,UAAU,MAAM,yCAAyC;AAChE,OAAOC,eAAe,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,QAAQ,GAAGH,eAAe,CAACD,UAAU,CAAC;;AAE5C;;AAEA,MAAMK,UAAU,GAAGA,CAACC,KAAK,EAAEC,WAAW,EAAEC,IAAI,KAAK;EAC/C,IAAI,CAACF,KAAK,EAAE,OAAOC,WAAW,IAAIH,QAAQ,CAAC,WAAW,EAAEI,IAAI,CAAC;EAE7D,OAAOV,MAAM,CAACQ,KAAK,EAAE,YAAY,CAAC;AACpC,CAAC;AAED,MAAMG,cAAc,GAAIC,CAAC,IAAK;EAC5B,IAAI,CAACA,CAAC,EAAE,OAAOA,CAAC;EAEhB,OAAO,OAAOA,CAAC,KAAK,QAAQ,GAAG,IAAIC,IAAI,CAACD,CAAC,CAAC,GAAGA,CAAC;AAChD,CAAC;AAED,SAASE,SAASA,CAAAC,IAAA,EAAuD;EAAA,IAAtD;IAAEC,KAAK;IAAER,KAAK;IAAES,OAAO;IAAEC,QAAQ;IAAER,IAAI;IAAES;EAAU,CAAC,GAAAJ,IAAA;EACrE,MAAM;IAAEN;EAAY,CAAC,GAAGO,KAAK;EAE7B,MAAMI,UAAU,GAAGT,cAAc,CAACH,KAAK,CAAC;EAExC,oBACEH,OAAA;IAAKc,SAAS,EAAEA,SAAS,IAAI,EAAG;IAAAE,QAAA,EAC7BJ,OAAO,gBACNZ,OAAA,CAACN,QAAQ;MACPoB,SAAS,EAAC,yBAAyB;MACnCG,OAAO,EAAGC,KAAK,iBACblB,OAAA,WAAAmB,aAAA,CAAAA,aAAA;QACEC,IAAI,EAAC;MAAQ,GACTF,KAAK;QACTJ,SAAS,EAAC,8BAA8B;QAAAE,QAAA,GAEvCd,UAAU,CAACa,UAAU,EAAEX,WAAW,EAAEC,IAAI,CAAC,EAAC,MAC3C,eAAAL,OAAA;UAAMc,SAAS,EAAC;QAAO;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CACR;MAAAR,QAAA,eAEFhB,OAAA;QAAKc,SAAS,EAAC,mBAAmB;QAACW,KAAK,EAAE;UAAEC,QAAQ,EAAE;QAAQ,CAAE;QAAAV,QAAA,eAC9DhB,OAAA,CAACP,QAAQ;UACPkC,IAAI,EAAEZ,UAAU,IAAI,IAAK;UACzBF,QAAQ,EAAEA,QAAS;UACnBe,MAAM,EAAEhC,UAAU,CAACS,IAAI;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,gBAEXxB,OAAA;MACE6B,QAAQ;MACRf,SAAS,EAAC,qBAAqB;MAC/BX,KAAK,EAAED,UAAU,CAACa,UAAU,EAAEX,WAAW,EAAEC,IAAI,CAAE;MACjDoB,KAAK,EAAE;QAAEK,KAAK,EAAE;MAAO;IAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B;EACF;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAEA,eAAef,SAAS","ignoreList":[]}