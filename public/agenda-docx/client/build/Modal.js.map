{"version":3,"file":"Modal.js","names":["React","Component","bodyScroll","jsxDEV","_jsxDEV","Modal","constructor","props","_defineProperty","event","key","handleClose","onClose","visible","clickOnModal","state","modalDomNode","modalRef","current","overlayDomNode","overlayRef","addEventListener","handleModalClick","handleOverlayClick","document","handleEsc","removeEventListener","createRef","componentDidMount","disableBodyScroll","addClickEvents","disable","componentDidUpdate","removeClickEvents","componentWillUnmount","enable","render","title","children","classNames","role","tabIndex","className","overlay","onKeyPress","ref","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick"],"sources":["../src/Modal.js"],"sourcesContent":["import React, { Component } from 'react';\nimport * as bodyScroll from './utils/bodyScroll.js';\n\nexport default class Modal extends Component {\n  static defaultProps = {\n    children: null,\n    title: null,\n    visible: true,\n    disableBodyScroll: false,\n    onClose: null,\n    classNames: {\n      overlay: 'popup-overlay',\n    },\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      clickOnModal: false,\n    };\n\n    this.modalRef = React.createRef();\n    this.overlayRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { visible, disableBodyScroll } = this.props;\n\n    if (visible) {\n      this.addClickEvents();\n    }\n\n    if (disableBodyScroll) {\n      bodyScroll.disable();\n    }\n  }\n\n  componentDidUpdate() {\n    const { visible } = this.props;\n\n    if (visible) {\n      this.addClickEvents();\n    } else {\n      this.removeClickEvents();\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeClickEvents();\n\n    const { disableBodyScroll } = this.props;\n\n    if (disableBodyScroll) {\n      bodyScroll.enable();\n    }\n  }\n\n  handleEsc = (event) => {\n    if (event.key === 'Escape') this.handleClose();\n  };\n\n  handleClose = () => {\n    const { onClose } = this.props;\n\n    if (onClose) onClose();\n  };\n\n  handleOverlayClick = () => {\n    const { visible } = this.props;\n    const { clickOnModal } = this.state;\n\n    if (visible && !clickOnModal) {\n      this.handleClose();\n    }\n\n    this.state.clickOnModal = false;\n  };\n\n  handleModalClick = () => {\n    this.state.clickOnModal = true;\n  };\n\n  addClickEvents = () => {\n    const modalDomNode = this.modalRef.current;\n    const overlayDomNode = this.overlayRef.current;\n\n    if (modalDomNode) modalDomNode.addEventListener('click', this.handleModalClick);\n    if (overlayDomNode) overlayDomNode.addEventListener('click', this.handleOverlayClick);\n\n    document.addEventListener('keydown', this.handleEsc);\n  };\n\n  removeClickEvents = () => {\n    const modalDomNode = this.modalRef.current;\n    const overlayDomNode = this.overlayRef.current;\n\n    if (modalDomNode) modalDomNode.removeEventListener('click', this.handleModalClick);\n    if (overlayDomNode) overlayDomNode.removeEventListener('click', this.handleOverlayClick);\n\n    document.removeEventListener('keydown', this.handleEsc);\n  };\n\n  render() {\n    const { title, children, visible, classNames } = this.props;\n\n    if (!visible) {\n      return null;\n    }\n\n    return (\n      <div\n        role=\"button\"\n        tabIndex={0}\n        className={classNames.overlay}\n        onKeyPress={this.onKeyPress}\n        ref={this.overlayRef}\n      >\n        <section ref={this.modalRef}>\n          {title ? (\n            <header className=\"popup-title\">\n              <h2>{title}</h2>\n              <button\n                type=\"button\"\n                aria-label=\"Close\"\n                onClick={this.handleClose}\n                className=\"btn btn-link close-link\"\n              >\n                <i className=\"fa fa-times fa-lg\" />\n              </button>\n            </header>\n          ) : null}\n          <div className=\"popup-content\">{children}</div>\n        </section>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}