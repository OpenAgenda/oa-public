{"version":3,"file":"dom.js","names":["isSafari","navigator","vendor","indexOf","userAgent","match","isElement","o","HTMLElement","nodeType","nodeName","preventDefault","event","returnValue","childObject","elem","index","i","realI","childNodes","hasClass","element","cls","concat","className","addClass","removeClass","regex","RegExp","replace","els","node","selector","document","prefix","substr","getElementsByClassName","result","getElementById","getElementsByTagName","el","results","length","whenReady","cb","readyState","addEvent","window","asapReady","timeout","arguments","setTimeout","Math","min","types","eventHandle","undefined","forEach","type","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","array","action","a","re","j","test","push","windowInnerHeight","w","d","innerHeight","documentElement","clientHeight","scrollTo","position","body","scrollHeight","getScrollOffsets","pageXOffset","x","y","pageYOffset","compatMode","scrollLeft","scrollTop"],"sources":["../../src/utils/dom.js"],"sourcesContent":["/* eslint-disable */\n\nexport function isSafari() {\n  return (\n    navigator.vendor &&\n    navigator.vendor.indexOf('Apple') > -1 &&\n    navigator.userAgent &&\n    !navigator.userAgent.match('CriOS')\n  );\n}\n\nexport function isElement(o) {\n  return typeof HTMLElement === 'object'\n    ? o instanceof HTMLElement // DOM2\n    : o &&\n        typeof o === 'object' &&\n        o !== null &&\n        o.nodeType === 1 &&\n        typeof o.nodeName === 'string';\n}\n\nexport function preventDefault(event) {\n  event.preventDefault ? event.preventDefault() : (event.returnValue = false);\n}\n\nexport function childObject(elem, index) {\n  let i = 0;\n  let realI = 0;\n\n  while (elem.childNodes[i]) {\n    if (elem.childNodes[i].nodeType == 1) {\n      if (realI == index) return elem.childNodes[i];\n\n      realI++;\n    }\n\n    i++;\n  }\n\n  return false;\n}\n\nexport function hasClass(element, cls) {\n  return ` ${element.className} `.indexOf(` ${cls} `) > -1;\n}\n\nexport function addClass(element, className) {\n  if (!hasClass(element, className))\n    element.className = `${element.className} ${className}`;\n}\n\nexport function removeClass(element, cls) {\n  if (hasClass(element, cls)) {\n    const regex = new RegExp(cls, 'g');\n\n    element.className = element.className.replace(regex, '');\n  }\n}\n\nexport function els(node, selector) {\n  if (typeof node === 'string') {\n    selector = node;\n    node = document;\n  }\n\n  const prefix = selector.substr(0, 1);\n\n  if ('.#,'.indexOf(prefix) !== -1) {\n    selector = selector.substr(1);\n  }\n\n  if (prefix == '.') {\n    return getElementsByClassName(node, selector);\n  }\n  if (prefix == '#') {\n    const result = node.getElementById(selector);\n\n    if (result) {\n      return [result];\n    }\n\n    return [];\n  }\n\n  return node.getElementsByTagName(selector);\n}\n\nexport function el(node, selector) {\n  const results = els(node, selector);\n\n  return results.length ? results[0] : null;\n}\n\nexport function whenReady(cb) {\n  if (document.readyState === 'complete') {\n    cb();\n  } else {\n    addEvent(window, 'load', cb);\n  }\n}\n\nexport function asapReady(selector, timeout, cb) {\n  if (arguments.length == 1) {\n    cb = selector;\n\n    timeout = 0;\n\n    selector = 'body';\n  } else if (arguments.length == 2) {\n    cb = timeout;\n\n    timeout = 0;\n  }\n\n  if (el(selector)) return cb();\n\n  setTimeout(() => {\n    asapReady(selector, Math.min((timeout + 10) * 2, 10000), cb);\n  }, timeout);\n}\n\n/**\n * cross browser add event\n */\n\nexport function addEvent(elem, types, eventHandle) {\n  if (elem == null || elem == undefined) return;\n\n  if (typeof types === 'string') types = [types];\n\n  forEach(types, (type) => {\n    if (elem.addEventListener) {\n      elem.addEventListener(type, eventHandle, false);\n    } else if (elem.attachEvent) {\n      elem.attachEvent(`on${type}`, eventHandle);\n    } else {\n      elem[`on${type}`] = eventHandle;\n    }\n  });\n}\n\nexport function removeEvent(elem, types, eventHandle) {\n  if (elem === null || elem === undefined) return;\n\n  if (typeof types === 'string') types = [types];\n\n  forEach(types, (type) => {\n    if (elem.removeEventListener) {\n      elem.removeEventListener(type, eventHandle, false);\n    } else if (elem.detachEvent) {\n      elem.detachEvent(`on${type}`, eventHandle);\n    } else {\n      elem[`on${type}`] = null;\n    }\n  });\n}\n\nexport function forEach(array, action) {\n  for (let i = 0; i < array.length; i++) {\n    action(array[i], i);\n  }\n}\n\nexport function getElementsByClassName(node, className) {\n  if (typeof node === 'string') {\n    className = node;\n    node = document;\n  }\n\n  const a = [];\n\n  const re = new RegExp(`(^| )${className}( |$)`);\n\n  const els = node.getElementsByTagName('*');\n\n  for (let i = 0, j = els.length; i < j; i++) {\n    if (re.test(els[i].className)) {\n      a.push(els[i]);\n    }\n  }\n\n  return a;\n}\n\nexport function windowInnerHeight(w, d) {\n  if (!w) {\n    w = window;\n    d = document;\n  }\n\n  return (\n    w.innerHeight ||\n    d.documentElement.clientHeight ||\n    d.getElementsByTagName('body')[0].clientHeight\n  );\n}\n\nexport function scrollTo(elem, position) {\n  if (arguments.length === 1) {\n    position = elem;\n    elem = document.body;\n  }\n\n  if (typeof position === 'undefined') {\n    position = 'top';\n  }\n\n  if (typeof position === 'string') {\n    switch (position) {\n      case 'top':\n        position = 0;\n        break;\n\n      case 'bottom':\n        position = elem.scrollHeight;\n        break;\n    }\n  }\n\n  window.scrollTo(0, position);\n}\n\nexport function getScrollOffsets(w) {\n  // Use the specified window or the current window if no argument\n  w = w || window;\n\n  // This works for all browsers except IE versions 8 and before\n  if (typeof w.pageXOffset !== 'undefined') {\n    return {\n      x: w.pageXOffset,\n      y: w.pageYOffset,\n    };\n  }\n\n  // For IE (or any browser) in Standards mode\n  const d = w.document;\n  if (document.compatMode == 'CSS1Compat') {\n    return {\n      x: d.documentElement.scrollLeft,\n      y: d.documentElement.scrollTop,\n    };\n  }\n\n  // For browsers in Quirks mode\n  return {\n    x: d.body.scrollLeft,\n    y: d.body.scrollTop,\n  };\n}\n"],"mappings":"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","ignoreList":[]}