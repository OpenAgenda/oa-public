{"version":3,"sources":["../../../src/contexts/FiltersAndWidgetsContext.js","../../../src/messages/map.js","../../../src/components/fields/MapField/SearchHereControl.js","../../../src/components/fields/MapField/Map.js","../../../src/components/filters/MapFilter.js","../../../src/components/fields/MapField/index.js","../../../src/components/fields/MapField/LoadableMap.js","../../../src/components/fields/MapField/mapStyle.js","../../../src/components/Title.js","../../../src/hooks/useFilterTitle.js","../../../src/utils/getFilterTitle.js","../../../src/messages/filterTitles.js","../../../src/components/Panel.js","../../../src/components/ValueBadge.js","../../../src/components/FilterPreviewer.js"],"sourcesContent":["import { createContext } from 'react';\n\nconst FiltersAndWidgetsContext = createContext({\n  filters: [],\n  widgets: [],\n  setFilters: () => {},\n  setWidgets: () => {},\n  filtersOptions: {},\n});\n\nexport default FiltersAndWidgetsContext;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  searchHere: {\n    id: 'ReactFilters.messages.map.searchHere',\n    defaultMessage: 'Search here',\n  },\n});\n","import { css } from '@emotion/react';\nimport { useIntl } from 'react-intl';\nimport mapMessages from '../../../messages/map.js';\n\nexport default function SearchHereControl({ searchHere }) {\n  const intl = useIntl();\n\n  return (\n    <div\n      css={css`\n        position: absolute;\n        bottom: 20px;\n        left: 50%;\n        transform: translateX(-50%);\n        white-space: nowrap;\n        z-index: 400;\n      `}\n    >\n      <button\n        type=\"button\"\n        onClick={searchHere}\n        css={css`\n          outline: none;\n          overflow: hidden;\n          transition-duration: 0.2s;\n          cursor: pointer;\n          background: white;\n          height: 24px;\n          border-radius: 16px;\n          padding: 0px 12px;\n          box-shadow: rgba(0, 0, 0, 0.16) 0px 2px 8px 0px;\n          border: 0px;\n\n          &:hover {\n            background-color: #f3f3f3;\n          }\n\n          &:active {\n            background-color: #eaeaea;\n          }\n        `}\n      >\n        {intl.formatMessage(mapMessages.searchHere)}\n      </button>\n    </div>\n  );\n}\n","import React, {\n  useCallback,\n  useContext,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport cn from 'classnames';\nimport {\n  MapContainer,\n  Marker,\n  TileLayer,\n  useMapEvents,\n  useMap,\n} from 'react-leaflet';\nimport L from 'leaflet';\nimport { useIntl } from 'react-intl';\nimport '@openagenda/leaflet-gesture-handling';\nimport { useForm } from 'react-final-form';\nimport FiltersAndWidgetsContext from '../../../contexts/FiltersAndWidgetsContext.js';\nimport SearchHereControl from './SearchHereControl.js';\n\nconst padRatio = 0.2;\nconst unpadRatio = -(1 / ((1 + padRatio + padRatio) / padRatio));\n\nconst worldViewport = {\n  bottomRight: {\n    latitude: -90,\n    longitude: 180,\n  },\n  topLeft: {\n    latitude: 90,\n    longitude: -180,\n  },\n};\n\nfunction loadGestureHandlingLocale(gestureHandling, locale) {\n  import(`@openagenda/leaflet-gesture-handling/dist/locales/${locale}.js`)\n    .then((m) => {\n      const content = m.default || m;\n      const scrollWarning = gestureHandling._isMacUser()\n        ? content.scrollMac\n        : content.scroll;\n      gestureHandling._map._container.setAttribute(\n        'data-gesture-handling-touch-content',\n        content.touch,\n      );\n      gestureHandling._map._container.setAttribute(\n        'data-gesture-handling-scroll-content',\n        scrollWarning,\n      );\n      gestureHandling._touchWarning = content.touch;\n      gestureHandling._scrollWarning = scrollWarning;\n    })\n    .catch((e) => {\n      console.log(`Cannot load gestureHandling locale \"${locale}\"`, e);\n    });\n}\n\nfunction waitMapBounds(map, interval = 16) {\n  return new Promise((resolve, _reject) => {\n    const attemptGetBounds = () => {\n      try {\n        const bounds = map.getBounds();\n        if (bounds) {\n          resolve(bounds);\n        } else {\n          throw new Error('Bounds not available');\n        }\n      } catch (error) {\n        setTimeout(attemptGetBounds, interval);\n      }\n    };\n\n    setTimeout(() => attemptGetBounds());\n  });\n}\n\nfunction valueToViewport(value) {\n  const bounds = new L.LatLngBounds(\n    new L.LatLng(value.northEast.lat, value.northEast.lng),\n    new L.LatLng(value.southWest.lat, value.southWest.lng),\n  );\n\n  const southEast = bounds.getSouthEast();\n  const northWest = bounds.getNorthWest();\n\n  return {\n    bottomRight: {\n      latitude: southEast.lat,\n      longitude: southEast.lng,\n    },\n    topLeft: {\n      latitude: northWest.lat,\n      longitude: northWest.lng,\n    },\n  };\n}\n\nfunction viewportToBounds(viewport) {\n  return new L.LatLngBounds(\n    new L.LatLng(viewport.bottomRight.latitude, viewport.bottomRight.longitude),\n    new L.LatLng(viewport.topLeft.latitude, viewport.topLeft.longitude),\n  );\n}\n\nfunction isEqualBounds(a, b) {\n  return (\n    String(a?.northEast?.lat) === String(b?.northEast?.lat)\n    && String(a?.northEast?.lng) === String(b?.northEast?.lng)\n    && String(a?.southWest?.lat) === String(b?.southWest?.lat)\n    && String(a?.southWest?.lng) === String(b?.southWest?.lng)\n  );\n}\n\n/*\nReturns bounds created by extending or retracting the current bounds by a given ratio in each direction.\nFor example, a ratio of 0.5 extends the bounds by 50% in each direction.\nNegative values will retract the bounds.\nSkip the padding if the whole map is seen.\n*/\nfunction normalizeBounds(bounds, bufferRatio = 1) {\n  const sw = bounds.getSouthWest();\n  const ne = bounds.getNorthEast();\n  const height = Math.abs(sw.lat - ne.lat); // 85 * 2 is the whole map\n  const width = Math.abs(sw.lng - ne.lng); // 180 * 2 is the whole map\n  const heightBuffer = height * bufferRatio;\n  const widthBuffer = Math.min(width, 360) * bufferRatio;\n\n  // For positive pad\n  const south = height > 170 ? sw.lat : sw.lat - heightBuffer;\n  const west = width > 360 ? -180 : sw.lng - widthBuffer;\n  const north = height > 170 ? ne.lat : ne.lat + heightBuffer;\n  const east = width > 360 ? 180 : ne.lng + widthBuffer;\n\n  return new L.LatLngBounds(\n    new L.LatLng(south, west),\n    new L.LatLng(north, east),\n  );\n}\n\nfunction convertToKFormat(intl, number) {\n  if (number >= 1000) {\n    return `${intl.formatNumber((number / 1000).toFixed(1))}k`;\n  }\n\n  return number.toString();\n}\n\nfunction MarkerClusterIcon({ latitude, longitude, eventCount }) {\n  const intl = useIntl();\n  const map = useMap();\n  const position = useMemo(() => [latitude, longitude], [latitude, longitude]);\n  const icon = useMemo(\n    () =>\n      new L.DivIcon({\n        html: `<div style=\"pointer-events: none;\"><span>${convertToKFormat(intl, eventCount)}</span></div>`,\n        className: cn('marker-cluster leaflet-interactive', {\n          'marker-cluster-small': eventCount < 10,\n          'marker-cluster-medium': eventCount < 100,\n          'marker-cluster-large': eventCount >= 100,\n        }),\n        iconSize: new L.Point(40, 40),\n      }),\n    [eventCount],\n  );\n\n  return (\n    <Marker\n      position={position}\n      icon={icon}\n      eventHandlers={{\n        click: () => {\n          map.setView(position, Math.min(map.getZoom() + 1, map.getMaxZoom()));\n        },\n      }}\n    />\n  );\n}\n\nfunction OnMapMove({ onChange }) {\n  useMapEvents({\n    moveend() {\n      onChange();\n    },\n  });\n\n  return null;\n}\n\nconst Map = React.forwardRef(\n  (\n    {\n      input,\n      tileAttribution,\n      tileUrl,\n      loadGeoData,\n      initialViewport,\n      defaultViewport,\n      className,\n      searchHereControl: SearchHereControlComponent = SearchHereControl,\n    },\n    ref,\n  ) => {\n    const intl = useIntl();\n    const form = useForm();\n\n    const {\n      filtersOptions: { manualSubmit },\n    } = useContext(FiltersAndWidgetsContext);\n\n    const mapRef = useRef();\n    const programmaticMoveRef = useRef(false);\n\n    const [viewport] = useState(() =>\n      (input.value ? valueToViewport(input.value) : initialViewport));\n\n    const skipMoveRef = useRef(true);\n\n    const [data, setData] = useState(() => []);\n\n    const [displayedMarkers, setDisplayedMarkers] = useState(false);\n    const [bounds] = useState(() =>\n      viewportToBounds(viewport || defaultViewport || worldViewport).pad(\n        padRatio,\n      ));\n    useImperativeHandle(ref, () => ({\n      setData,\n      onQueryChange: (newViewport) => {\n        const map = mapRef.current;\n\n        function reloadData() {\n          waitMapBounds(map).then((bounds1) => {\n            const innerBounds = normalizeBounds(bounds1, unpadRatio);\n            const innerZoom = map.getBoundsZoom(bounds1);\n\n            loadGeoData(innerBounds, innerZoom)\n              .then((newData) => setData(newData?.reverse() ?? []))\n              .catch((err) => {\n                console.log('Failed to load geo data', err);\n              });\n          });\n        }\n\n        if (!skipMoveRef.current) {\n          map.once('moveend', () => reloadData());\n          programmaticMoveRef.current = true;\n          map.fitBounds(\n            viewportToBounds(\n              newViewport || defaultViewport || worldViewport,\n            ).pad(padRatio),\n          );\n        } else {\n          reloadData();\n        }\n        skipMoveRef.current = false;\n      },\n    }));\n\n    const onMapReady = useCallback(\n      ({ target: map }) => {\n        mapRef.current = map;\n\n        loadGestureHandlingLocale(map.gestureHandling, intl.locale);\n\n        // Remove flag\n        map.attributionControl.setPrefix(\n          '<a href=\"https://leafletjs.com\" title=\"A JavaScript library for interactive maps\">Leaflet</a>',\n        );\n\n        waitMapBounds(map).then((bounds1) => {\n          const innerBounds = normalizeBounds(bounds1, unpadRatio);\n          const innerZoom = map.getBoundsZoom(bounds1);\n\n          loadGeoData(innerBounds, innerZoom)\n            .then((newData) => {\n              setData(newData?.reverse() ?? []);\n              setDisplayedMarkers(true);\n            })\n            .catch((err) => {\n              console.log('Failed to load geo data', err);\n            })\n            .finally(() => {\n              skipMoveRef.current = false;\n            });\n        });\n      },\n      [bounds, loadGeoData],\n    );\n\n    const searchHere = useCallback(\n      (e) => {\n        e.preventDefault();\n\n        const map = mapRef.current;\n\n        if (!map) return;\n\n        skipMoveRef.current = true;\n\n        const innerBounds = normalizeBounds(map.getBounds(), unpadRatio);\n        const northEast = innerBounds.getNorthEast().wrap();\n        const southWest = innerBounds.getSouthWest().wrap();\n\n        input.onChange({\n          northEast: {\n            lat: String(northEast.lat),\n            lng: String(northEast.lng),\n          },\n          southWest: {\n            lat: String(southWest.lat),\n            lng: String(southWest.lng),\n          },\n        });\n\n        if (manualSubmit) {\n          form.submit();\n        }\n      },\n      [input, mapRef],\n    );\n\n    const [latestBounds, setLatestBounds] = useState(false);\n\n    const onChange = useCallback(() => {\n      const map = mapRef.current;\n\n      const bounds1 = map.getBounds();\n      const innerBounds = normalizeBounds(bounds1, unpadRatio);\n      const innerZoom = map.getBoundsZoom(bounds1);\n\n      setLatestBounds(innerBounds);\n\n      if (programmaticMoveRef.current) {\n        programmaticMoveRef.current = false;\n        return;\n      }\n\n      const { current: mapElem } = ref;\n      loadGeoData(innerBounds, innerZoom)\n        .then((data1) => mapElem.setData(data1?.reverse() ?? []))\n        .catch((err) => {\n          console.log('Failed to geo data', err);\n        });\n    }, [loadGeoData, ref]);\n\n    const disabledMapSearch = useMemo(\n      () =>\n        !latestBounds\n        || isEqualBounds(input.value, {\n          northEast: latestBounds.getNorthEast().wrap(),\n          southWest: latestBounds.getSouthWest().wrap(),\n        }),\n      [input.value, latestBounds],\n    );\n\n    const gestureHandlingOptions = useMemo(\n      () => ({\n        locale: intl.locale,\n      }),\n      [intl.locale],\n    );\n\n    return (\n      <>\n        <MapContainer\n          className={className}\n          bounds={bounds}\n          whenReady={onMapReady}\n          // scrollWheelZoom={false}\n          gestureHandling\n          gestureHandlingOptions={gestureHandlingOptions}\n          doubleClickZoom\n          worldCopyJump\n          // minZoom={1}\n        >\n          <TileLayer attribution={tileAttribution} url={tileUrl} />\n\n          {displayedMarkers\n            ? data.map((entry) => (\n              <MarkerClusterIcon\n                key={entry.key}\n                eventCount={entry.eventCount}\n                latitude={entry.latitude}\n                longitude={entry.longitude}\n              />\n            ))\n            : null}\n\n          <OnMapMove onChange={onChange} />\n        </MapContainer>\n\n        {!disabledMapSearch ? (\n          <SearchHereControlComponent searchHere={searchHere} />\n        ) : null}\n      </>\n    );\n  },\n);\n\nexport default Map;\n","import React, { useCallback, useState } from 'react';\nimport { Field, useField } from 'react-final-form';\nimport { defineMessages, useIntl } from 'react-intl';\nimport MapField from '../fields/MapField/index.js';\nimport Title from '../Title.js';\nimport Panel from '../Panel.js';\nimport FilterPreviewer from '../FilterPreviewer.js';\n\nconst subscription = { value: true };\n\nconst messages = defineMessages({\n  previewLabel: {\n    id: 'ReactFilters.filters.MapFilter.previewLabel',\n    defaultMessage: 'Map',\n  },\n});\n\nfunction Preview({\n  name,\n  filter,\n  component = FilterPreviewer,\n  disabled,\n  ...rest\n}) {\n  const intl = useIntl();\n  const { input } = useField(name, { subscription });\n\n  const onRemove = useCallback(\n    (e) => {\n      e.stopPropagation();\n\n      if (disabled) {\n        return;\n      }\n\n      input.onChange(undefined);\n    },\n    [input, disabled],\n  );\n\n  if (!input.value || input.value === '') {\n    return null;\n  }\n\n  return React.createElement(component, {\n    name,\n    filter,\n    label: intl.formatMessage(messages.previewLabel),\n    onRemove,\n    disabled,\n    ...rest,\n  });\n}\n\nfunction MapFilter(\n  {\n    name,\n    filter,\n    disabled,\n    collapsed,\n    className,\n    component = MapField,\n    ...rest\n  },\n  ref,\n) {\n  return (\n    <Field\n      collapsed={collapsed}\n      ref={ref}\n      name={name}\n      subscription={subscription}\n      component={component}\n      filter={filter}\n      disabled={disabled}\n      className={className}\n      {...rest}\n    />\n  );\n\n  // return <LoadableMapField ref={ref} {...props} />;\n}\n\nconst Collapsable = React.forwardRef(function Collapsable(\n  { name, filter, disabled, ...rest },\n  ref,\n) {\n  const [collapsed, setCollapsed] = useState(true);\n\n  return (\n    <Panel\n      header={(\n        <Title\n          name={name}\n          filter={filter}\n          component={Preview}\n          disabled={disabled}\n        />\n      )}\n      collapsed={collapsed}\n      setCollapsed={setCollapsed}\n    >\n      <MapFilter\n        ref={ref}\n        name={name}\n        filter={filter}\n        disabled={disabled}\n        collapsed={collapsed}\n        {...rest}\n      />\n    </Panel>\n  );\n});\n\nconst exported = React.memo(React.forwardRef(MapFilter));\n\n// React.memo lose statics\nexported.Preview = Preview;\nexported.Collapsable = Collapsable;\n\nexport default exported;\n","import React from 'react';\nimport { css } from '@emotion/react';\nimport cn from 'classnames';\nimport LoadableMap from './LoadableMap.js';\nimport { gestureHandlingStyle, markerClusterStyle } from './mapStyle.js';\n\n// x remettre la carte en face des marqueurs après une recherche\n// x Submit au click du lien en mode manual\n// disabled sur le lien\n\nconst mapContainerStyle = css`\n  position: relative;\n`;\n\nconst mapStyle = css`\n  height: 100%;\n  ${markerClusterStyle}\n  ${gestureHandlingStyle}\n`;\n\nfunction MapField(\n  {\n    input,\n    collapsed,\n    // name,\n    filter,\n    tileAttribution,\n    tileUrl,\n    loadGeoData,\n    initialViewport,\n    defaultViewport,\n    className,\n    mapClass,\n  },\n  ref,\n) {\n  return !collapsed ? (\n    <div css={mapContainerStyle} className={cn(className, mapClass)}>\n      <LoadableMap\n        ref={ref}\n        input={input}\n        filter={filter}\n        tileAttribution={tileAttribution}\n        tileUrl={tileUrl}\n        loadGeoData={loadGeoData}\n        initialViewport={initialViewport}\n        defaultViewport={defaultViewport}\n        css={mapStyle}\n      />\n    </div>\n  ) : null;\n}\n\nexport default React.forwardRef(MapField);\n","import loadable from '@openagenda/react-shared/dist/utils/loadable.js';\n\n// // eslint-disable-next-line camelcase\n// const contextRequire = typeof __webpack_require__ !== 'undefined'\n//   ? import.meta.webpackContext('.', {\n//     recursive: true,\n//     regExp: /\\.js$/,\n//     mode: 'weak',\n//   }) : null;\n//\n// const LoadableMapField = loadableComponent(\n//   {\n//     chunkName: 'reactFilters-Map',\n//     importAsync: () =>\n//       import(\n//         /* webpackChunkName: \"reactFilters-Map\" */\n//         './Map.js'\n//       ),\n//     resolve: () => {\n//       if (contextRequire) {\n//         return contextRequire.resolve('./Map.js');\n//       }\n//       const { resolve } = import.meta;\n//       if (typeof resolve === 'function') {\n//         return resolve('./Map.js');\n//       }\n//     },\n//   },\n//   { ssr: false },\n// );\n\nconst LoadableMapField = loadable(\n  () => import(/* webpackChunkName: \"reactFilters-Map\" */ './Map.js'),\n  { ssr: false },\n);\n\nexport default LoadableMapField;\n","export const markerClusterStyle = {\n  '& .marker-cluster-small': {\n    backgroundColor: 'rgba(181, 226, 140, 0.6)',\n  },\n  '& .marker-cluster-small div': {\n    backgroundColor: 'rgba(110, 204, 57, 0.6)',\n  },\n  '& .marker-cluster-medium': {\n    backgroundColor: 'rgba(241, 211, 87, 0.6)',\n  },\n  '& .marker-cluster-medium div': {\n    backgroundColor: 'rgba(240, 194, 12, 0.6)',\n  },\n  '& .marker-cluster-large': {\n    backgroundColor: 'rgba(253, 156, 115, 0.6)',\n  },\n  '& .marker-cluster-large div': {\n    backgroundColor: 'rgba(241, 128, 23, 0.6)',\n  },\n  '& .marker-cluster': {\n    backgroundClip: 'padding-box',\n    borderRadius: '20px',\n  },\n  '& .marker-cluster div': {\n    width: '30px',\n    height: '30px',\n    marginLeft: '5px',\n    marginTop: '5px',\n    textAlign: 'center',\n    borderRadius: '15px',\n    font: \"12px 'Helvetica Neue', Arial, Helvetica, sans-serif\",\n  },\n  '& .marker-cluster span': {\n    lineHeight: '30px',\n  },\n};\n\nexport const gestureHandlingStyle = {\n  '&.leaflet-gesture-handling:after': {\n    color: '#fff',\n    fontFamily: 'Roboto, Arial, sans-serif',\n    fontSize: '22px',\n    justifyContent: 'center',\n    display: 'flex',\n    alignItems: 'center',\n    padding: '15px',\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n    background: 'rgba(0, 0, 0, .5)',\n    zIndex: 1001,\n    pointerEvents: 'none',\n    textAlign: 'center',\n    transition: 'opacity .8s ease-in-out',\n    opacity: 0,\n    content: '\"\"',\n  },\n  '&.leaflet-gesture-handling-warning:after': {\n    transitionDuration: '.3s',\n    opacity: 1,\n  },\n  '&.leaflet-gesture-handling-touch:after': {\n    content: 'attr(data-gesture-handling-touch-content)',\n  },\n  '&.leaflet-gesture-handling-scroll:after': {\n    content: 'attr(data-gesture-handling-scroll-content)',\n  },\n};\n","import React from 'react';\nimport { useField } from 'react-final-form';\nimport useFilterTitle from '../hooks/useFilterTitle.js';\n\nconst subscription = { value: true };\n\nexport default function Title({ name, filter, component, ...rest }) {\n  const title = useFilterTitle(name, filter.fieldSchema);\n  const field = useField(name, { subscription });\n\n  const { input } = field;\n\n  if (\n    !input.value?.length\n    && !(typeof input.value === 'object' && input.value !== null)\n  ) {\n    return <div>{title}</div>;\n  }\n\n  if (!component) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex-auto\">\n      <span className=\"padding-right-xs\">{title}</span>\n      {React.createElement(component, {\n        name,\n        filter,\n        className: 'oa-filter-value-preview',\n        withTitle: false,\n        ...rest,\n      })}\n    </div>\n  );\n}\n","import { useMemo } from 'react';\nimport { useIntl } from 'react-intl';\nimport { getFilterTitle } from '../utils/index.js';\n\nexport default function useFilterTitle(messageKey, fieldSchema, messages) {\n  const intl = useIntl();\n\n  return useMemo(\n    () => getFilterTitle(intl, messages, messageKey, fieldSchema),\n    [intl, messages, messageKey, fieldSchema],\n  );\n}\n","import { getLocaleValue } from '@openagenda/intl';\nimport defaultMessages from '../messages/filterTitles.js';\n\nexport default function getFilterTitle(\n  intl,\n  providedMessages,\n  messageKey,\n  fieldSchema,\n) {\n  const messages = providedMessages ?? defaultMessages;\n\n  if (fieldSchema?.label) {\n    return getLocaleValue(fieldSchema.label, intl.locale);\n  }\n\n  if (messages[messageKey]) {\n    return intl.formatMessage(messages[messageKey]);\n  }\n\n  return messageKey;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  geo: {\n    id: 'ReactFilters.messages.filterTitles.geo',\n    defaultMessage: 'Map',\n  },\n  search: {\n    id: 'ReactFilters.messages.filterTitles.search',\n    defaultMessage: 'Search',\n  },\n  addMethod: {\n    id: 'ReactFilters.messages.filterTitles.addMethod',\n    defaultMessage: 'Provenance',\n  },\n  memberUid: {\n    id: 'ReactFilters.messages.filterTitles.memberUid',\n    defaultMessage: 'Member',\n  },\n  locationUid: {\n    id: 'ReactFilters.messages.filterTitles.locationUid',\n    defaultMessage: 'Location',\n  },\n  sourceAgendaUid: {\n    id: 'ReactFilters.messages.filterTitles.sourceAgendaUid',\n    defaultMessage: 'Source agenda',\n  },\n  originAgendaUid: {\n    id: 'ReactFilters.messages.filterTitles.originAgendaUid',\n    defaultMessage: 'Origin agenda',\n  },\n  featured: {\n    id: 'ReactFilters.messages.filterTitles.featured',\n    defaultMessage: 'Featured',\n  },\n  relative: {\n    id: 'ReactFilters.messages.filterTitles.relative',\n    defaultMessage: 'Passed / current / upcoming',\n  },\n  region: {\n    id: 'ReactFilters.messages.filterTitles.region',\n    defaultMessage: 'Region',\n  },\n  department: {\n    id: 'ReactFilters.messages.filterTitles.department',\n    defaultMessage: 'Department',\n  },\n  countryCode: {\n    id: 'ReactFilters.messages.filterTitles.countryCode',\n    defaultMessage: 'Country',\n  },\n  city: {\n    id: 'ReactFilters.messages.filterTitles.city',\n    defaultMessage: 'City',\n  },\n  adminLevel3: {\n    id: 'ReactFilters.messages.filterTitles.adminLevel3',\n    defaultMessage: 'Administrative level 3',\n  },\n  timings: {\n    id: 'ReactFilters.messages.filterTitles.timings',\n    defaultMessage: 'Date',\n  },\n  createdAt: {\n    id: 'ReactFilters.messages.filterTitles.createdAt',\n    defaultMessage: 'Creation date',\n  },\n  updatedAt: {\n    id: 'ReactFilters.messages.filterTitles.updatedAt',\n    defaultMessage: 'Date of update',\n  },\n  keyword: {\n    id: 'ReactFilters.messages.filterTitles.keyword',\n    defaultMessage: 'Keywords',\n  },\n  state: {\n    id: 'ReactFilters.messages.filterTitles.state',\n    defaultMessage: 'State',\n  },\n  attendanceMode: {\n    id: 'ReactFilters.messages.filterTitles.attendanceMode',\n    defaultMessage: 'Attendance mode',\n  },\n  status: {\n    id: 'ReactFilters.messages.filterTitles.status',\n    defaultMessage: 'Status',\n  },\n  district: {\n    id: 'ReactFilters.messages.filterTitles.district',\n    defaultMessage: 'District',\n  },\n  accessibility: {\n    id: 'ReactFilters.messages.filterTitles.accessibility',\n    defaultMessage: 'Accessibility',\n  },\n  languages: {\n    id: 'ReactFilters.messages.filterTitles.languages',\n    defaultMessage: 'Languages',\n  },\n});\n","import { useMemo, useState } from 'react';\nimport cn from 'classnames';\nimport a11yButtonActionHandler from '@openagenda/react-shared/dist/utils/a11yButtonActionHandler.js';\n\nexport default function Panel({\n  collapsed = true,\n  setCollapsed,\n  header,\n  children,\n}) {\n  // default state when used without setCollapsed\n  const internalState = useState(collapsed);\n\n  const value = typeof setCollapsed === 'function' ? collapsed : internalState[0];\n  const updater = typeof setCollapsed === 'function' ? setCollapsed : internalState[1];\n\n  const toggleCollapsed = useMemo(\n    () =>\n      a11yButtonActionHandler((e) => {\n        e.preventDefault();\n\n        updater((v) => !v);\n      }),\n    [updater],\n  );\n\n  return (\n    <div\n      className={cn('oa-collapse-item', { 'oa-collapse-item-active': !value })}\n    >\n      <div\n        className=\"oa-collapse-header\"\n        role=\"tab\"\n        tabIndex=\"0\"\n        aria-expanded={!value}\n        onClick={toggleCollapsed}\n        onKeyPress={toggleCollapsed}\n      >\n        {header}\n        <span className=\"oa-collapse-arrow\">\n          <i\n            className={cn('fa fa-lg', {\n              'fa-angle-up': !value,\n              'fa-angle-down': value,\n            })}\n            aria-hidden=\"true\"\n          />\n        </span>\n      </div>\n      <div\n        className={cn('oa-collapse-content', {\n          'oa-collapse-content-active': !value,\n          'oa-collapse-content-inactive': value,\n        })}\n        role=\"tabpanel\"\n      >\n        <div className=\"oa-collapse-content-box\">{children}</div>\n      </div>\n    </div>\n  );\n}\n","import classNames from 'classnames';\nimport { defineMessages, useIntl } from 'react-intl';\nimport { css } from '@emotion/react';\nimport { getLocaleValue } from '@openagenda/intl';\n\nconst messages = defineMessages({\n  removeFilter: {\n    id: 'ReactFilters.ValueBadge.removeFilter',\n    defaultMessage: 'Remove filter',\n  },\n  removeFilterWithTitle: {\n    id: 'ReactFilters.ValueBadge.removeFilterWithTitle',\n    defaultMessage: 'Remove filter ({title})',\n  },\n});\n\nexport default function ValueBadge({ label, title, onRemove, disabled }) {\n  const intl = useIntl();\n\n  const titleLabel = title?.length\n    ? intl.formatMessage(messages.removeFilterWithTitle, { title })\n    : intl.formatMessage(messages.removeFilter);\n\n  return (\n    <button\n      type=\"button\"\n      title={titleLabel}\n      className={classNames('btn badge badge-pill badge-info margin-right-xs', {\n        disabled,\n      })}\n      css={css`\n        line-height: 18px;\n        padding-top: 0;\n        padding-bottom: 0;\n\n        :hover {\n          color: #da4453;\n          border-color: #d43f3a;\n        }\n      `}\n      // disabled={disabled}\n      onClick={onRemove}\n    >\n      {getLocaleValue(label, intl.locale)}\n      &nbsp;\n      <i className=\"fa fa-times\" aria-hidden=\"true\" />\n    </button>\n  );\n}\n","import useFilterTitle from '../hooks/useFilterTitle.js';\nimport ValueBadge from './ValueBadge.js';\n\nexport default function FilterPreviewer({\n  withTitle = true,\n  name,\n  filter,\n  label,\n  valueOptions,\n  onRemove,\n  disabled,\n  className,\n}) {\n  const title = useFilterTitle(name, filter.fieldSchema);\n\n  // multi\n  if (valueOptions?.length) {\n    return (\n      <>\n        {valueOptions.map((option) => (\n          <span key={option.value} className={className}>\n            <ValueBadge\n              label={option.label}\n              onRemove={onRemove(option)}\n              disabled={disabled}\n              title={withTitle ? title : null}\n            />\n          </span>\n        ))}\n      </>\n    );\n  }\n\n  // single\n  if (label) {\n    return (\n      <span className={className}>\n        <ValueBadge\n          label={label}\n          onRemove={onRemove}\n          disabled={disabled}\n          title={withTitle ? title : null}\n        />\n      </span>\n    );\n  }\n\n  return null;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kBAEM,0BAQC;AAVP;AAAA;AAAA,mBAA8B;AAE9B,IAAM,+BAA2B,4BAAc;AAAA,MAC7C,SAAS,CAAC;AAAA,MACV,SAAS,CAAC;AAAA,MACV,YAAY,MAAM;AAAA,MAAC;AAAA,MACnB,YAAY,MAAM;AAAA,MAAC;AAAA,MACnB,gBAAgB,CAAC;AAAA,IACnB,CAAC;AAED,IAAO,mCAAQ;AAAA;AAAA;;;ACVf,uBAEO;AAFP;AAAA;AAAA,wBAA+B;AAE/B,IAAO,kBAAQ,kCAAe;AAAA,MAC5B,YAAY;AAAA,QACV,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,IACF,CAAC;AAAA;AAAA;;;ACHc,SAAR,kBAAmC,EAAE,WAAW,GAAG;AACxD,QAAM,WAAO,4BAAQ;AAErB,SACE;AAAA,IAAC;AAAA;AAAA,MACC,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MASL;AAAA,QAAC;AAAA;AAAA,UACC,MAAK;AAAA,UACL,SAAS;AAAA,UACT,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAqBJ,eAAK,cAAc,YAAY,UAAU;AAAA;AAAA,MAC5C;AAAA;AAAA,EACF;AAEJ;AA9CA,IAAAA,eACAC,oBAiBM;AAlBN;AAAA;AAAA,IAAAD,gBAAoB;AACpB,IAAAC,qBAAwB;AACxB;AAgBM;AAAA;AAAA;;;AClBN;AAAA;AAAA;AAAA;AAqCA,SAAS,0BAA0B,iBAAiB,QAAQ;AAC1D,SAAO,qDAAqD,MAAM,OAC/D,KAAK,CAAC,MAAM;AACX,UAAM,UAAU,EAAE,WAAW;AAC7B,UAAM,gBAAgB,gBAAgB,WAAW,IAC7C,QAAQ,YACR,QAAQ;AACZ,oBAAgB,KAAK,WAAW;AAAA,MAC9B;AAAA,MACA,QAAQ;AAAA,IACV;AACA,oBAAgB,KAAK,WAAW;AAAA,MAC9B;AAAA,MACA;AAAA,IACF;AACA,oBAAgB,gBAAgB,QAAQ;AACxC,oBAAgB,iBAAiB;AAAA,EACnC,CAAC,EACA,MAAM,CAAC,MAAM;AACZ,YAAQ,IAAI,uCAAuC,MAAM,KAAK,CAAC;AAAA,EACjE,CAAC;AACL;AAEA,SAAS,cAAc,KAAK,WAAW,IAAI;AACzC,SAAO,IAAI,QAAQ,CAAC,SAAS,YAAY;AACvC,UAAM,mBAAmB,MAAM;AAC7B,UAAI;AACF,cAAM,SAAS,IAAI,UAAU;AAC7B,YAAI,QAAQ;AACV,kBAAQ,MAAM;AAAA,QAChB,OAAO;AACL,gBAAM,IAAI,MAAM,sBAAsB;AAAA,QACxC;AAAA,MACF,SAAS,OAAO;AACd,mBAAW,kBAAkB,QAAQ;AAAA,MACvC;AAAA,IACF;AAEA,eAAW,MAAM,iBAAiB,CAAC;AAAA,EACrC,CAAC;AACH;AAEA,SAAS,gBAAgB,OAAO;AAC9B,QAAM,SAAS,IAAI,eAAAC,QAAE;AAAA,IACnB,IAAI,eAAAA,QAAE,OAAO,MAAM,UAAU,KAAK,MAAM,UAAU,GAAG;AAAA,IACrD,IAAI,eAAAA,QAAE,OAAO,MAAM,UAAU,KAAK,MAAM,UAAU,GAAG;AAAA,EACvD;AAEA,QAAM,YAAY,OAAO,aAAa;AACtC,QAAM,YAAY,OAAO,aAAa;AAEtC,SAAO;AAAA,IACL,aAAa;AAAA,MACX,UAAU,UAAU;AAAA,MACpB,WAAW,UAAU;AAAA,IACvB;AAAA,IACA,SAAS;AAAA,MACP,UAAU,UAAU;AAAA,MACpB,WAAW,UAAU;AAAA,IACvB;AAAA,EACF;AACF;AAEA,SAAS,iBAAiB,UAAU;AAClC,SAAO,IAAI,eAAAA,QAAE;AAAA,IACX,IAAI,eAAAA,QAAE,OAAO,SAAS,YAAY,UAAU,SAAS,YAAY,SAAS;AAAA,IAC1E,IAAI,eAAAA,QAAE,OAAO,SAAS,QAAQ,UAAU,SAAS,QAAQ,SAAS;AAAA,EACpE;AACF;AAEA,SAAS,cAAc,GAAG,GAAG;AA3G7B;AA4GE,SACE,QAAO,4BAAG,cAAH,mBAAc,GAAG,MAAM,QAAO,4BAAG,cAAH,mBAAc,GAAG,KACnD,QAAO,4BAAG,cAAH,mBAAc,GAAG,MAAM,QAAO,4BAAG,cAAH,mBAAc,GAAG,KACtD,QAAO,4BAAG,cAAH,mBAAc,GAAG,MAAM,QAAO,4BAAG,cAAH,mBAAc,GAAG,KACtD,QAAO,4BAAG,cAAH,mBAAc,GAAG,MAAM,QAAO,4BAAG,cAAH,mBAAc,GAAG;AAE7D;AAQA,SAAS,gBAAgB,QAAQ,cAAc,GAAG;AAChD,QAAM,KAAK,OAAO,aAAa;AAC/B,QAAM,KAAK,OAAO,aAAa;AAC/B,QAAM,SAAS,KAAK,IAAI,GAAG,MAAM,GAAG,GAAG;AACvC,QAAM,QAAQ,KAAK,IAAI,GAAG,MAAM,GAAG,GAAG;AACtC,QAAM,eAAe,SAAS;AAC9B,QAAM,cAAc,KAAK,IAAI,OAAO,GAAG,IAAI;AAG3C,QAAM,QAAQ,SAAS,MAAM,GAAG,MAAM,GAAG,MAAM;AAC/C,QAAM,OAAO,QAAQ,MAAM,OAAO,GAAG,MAAM;AAC3C,QAAM,QAAQ,SAAS,MAAM,GAAG,MAAM,GAAG,MAAM;AAC/C,QAAM,OAAO,QAAQ,MAAM,MAAM,GAAG,MAAM;AAE1C,SAAO,IAAI,eAAAA,QAAE;AAAA,IACX,IAAI,eAAAA,QAAE,OAAO,OAAO,IAAI;AAAA,IACxB,IAAI,eAAAA,QAAE,OAAO,OAAO,IAAI;AAAA,EAC1B;AACF;AAEA,SAAS,iBAAiB,MAAM,QAAQ;AACtC,MAAI,UAAU,KAAM;AAClB,WAAO,GAAG,KAAK,cAAc,SAAS,KAAM,QAAQ,CAAC,CAAC,CAAC;AAAA,EACzD;AAEA,SAAO,OAAO,SAAS;AACzB;AAEA,SAAS,kBAAkB,EAAE,UAAU,WAAW,WAAW,GAAG;AAC9D,QAAM,WAAO,4BAAQ;AACrB,QAAM,UAAM,6BAAO;AACnB,QAAM,eAAW,uBAAQ,MAAM,CAAC,UAAU,SAAS,GAAG,CAAC,UAAU,SAAS,CAAC;AAC3E,QAAM,WAAO;AAAA,IACX,MACE,IAAI,eAAAA,QAAE,QAAQ;AAAA,MACZ,MAAM,4CAA4C,iBAAiB,MAAM,UAAU,CAAC;AAAA,MACpF,eAAW,kBAAAC,SAAG,sCAAsC;AAAA,QAClD,wBAAwB,aAAa;AAAA,QACrC,yBAAyB,aAAa;AAAA,QACtC,wBAAwB,cAAc;AAAA,MACxC,CAAC;AAAA,MACD,UAAU,IAAI,eAAAD,QAAE,MAAM,IAAI,EAAE;AAAA,IAC9B,CAAC;AAAA,IACH,CAAC,UAAU;AAAA,EACb;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA,eAAe;AAAA,QACb,OAAO,MAAM;AACX,cAAI,QAAQ,UAAU,KAAK,IAAI,IAAI,QAAQ,IAAI,GAAG,IAAI,WAAW,CAAC,CAAC;AAAA,QACrE;AAAA,MACF;AAAA;AAAA,EACF;AAEJ;AAEA,SAAS,UAAU,EAAE,SAAS,GAAG;AAC/B,yCAAa;AAAA,IACX,UAAU;AACR,eAAS;AAAA,IACX;AAAA,EACF,CAAC;AAED,SAAO;AACT;AA7LA,IAAAE,eAQA,mBACA,sBAOA,gBACAC,oBACA,iCACA,yBAsJIC,qBAlJE,UACA,YAEA,eAqKA,KAkNC;AAjZP;AAAA;AAAA,IAAAF,gBAOO;AACP,wBAAe;AACf,2BAMO;AACP,qBAAc;AACd,IAAAC,qBAAwB;AACxB,sCAAO;AACP,8BAAwB;AACxB;AACA;AAoJI,IAAAC,sBAAA;AAlJJ,IAAM,WAAW;AACjB,IAAM,aAAa,EAAE,MAAM,IAAI,WAAW,YAAY;AAEtD,IAAM,gBAAgB;AAAA,MACpB,aAAa;AAAA,QACX,UAAU;AAAA,QACV,WAAW;AAAA,MACb;AAAA,MACA,SAAS;AAAA,QACP,UAAU;AAAA,QACV,WAAW;AAAA,MACb;AAAA,IACF;AA4JA,IAAM,MAAM,cAAAC,QAAM;AAAA,MAChB,CACE;AAAA,QACE;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,mBAAmB,6BAA6B;AAAA,MAClD,GACA,QACG;AACH,cAAM,WAAO,4BAAQ;AACrB,cAAM,WAAO,iCAAQ;AAErB,cAAM;AAAA,UACJ,gBAAgB,EAAE,aAAa;AAAA,QACjC,QAAI,0BAAW,gCAAwB;AAEvC,cAAM,aAAS,sBAAO;AACtB,cAAM,0BAAsB,sBAAO,KAAK;AAExC,cAAM,CAAC,QAAQ,QAAI,wBAAS,MACzB,MAAM,QAAQ,gBAAgB,MAAM,KAAK,IAAI,eAAgB;AAEhE,cAAM,kBAAc,sBAAO,IAAI;AAE/B,cAAM,CAAC,MAAM,OAAO,QAAI,wBAAS,MAAM,CAAC,CAAC;AAEzC,cAAM,CAAC,kBAAkB,mBAAmB,QAAI,wBAAS,KAAK;AAC9D,cAAM,CAAC,MAAM,QAAI,wBAAS,MACxB,iBAAiB,YAAY,mBAAmB,aAAa,EAAE;AAAA,UAC7D;AAAA,QACF,CAAC;AACH,+CAAoB,KAAK,OAAO;AAAA,UAC9B;AAAA,UACA,eAAe,CAAC,gBAAgB;AAC9B,kBAAM,MAAM,OAAO;AAEnB,qBAAS,aAAa;AACpB,4BAAc,GAAG,EAAE,KAAK,CAAC,YAAY;AACnC,sBAAM,cAAc,gBAAgB,SAAS,UAAU;AACvD,sBAAM,YAAY,IAAI,cAAc,OAAO;AAE3C,4BAAY,aAAa,SAAS,EAC/B,KAAK,CAAC,YAAY,SAAQ,mCAAS,cAAa,CAAC,CAAC,CAAC,EACnD,MAAM,CAAC,QAAQ;AACd,0BAAQ,IAAI,2BAA2B,GAAG;AAAA,gBAC5C,CAAC;AAAA,cACL,CAAC;AAAA,YACH;AAEA,gBAAI,CAAC,YAAY,SAAS;AACxB,kBAAI,KAAK,WAAW,MAAM,WAAW,CAAC;AACtC,kCAAoB,UAAU;AAC9B,kBAAI;AAAA,gBACF;AAAA,kBACE,eAAe,mBAAmB;AAAA,gBACpC,EAAE,IAAI,QAAQ;AAAA,cAChB;AAAA,YACF,OAAO;AACL,yBAAW;AAAA,YACb;AACA,wBAAY,UAAU;AAAA,UACxB;AAAA,QACF,EAAE;AAEF,cAAM,iBAAa;AAAA,UACjB,CAAC,EAAE,QAAQ,IAAI,MAAM;AACnB,mBAAO,UAAU;AAEjB,sCAA0B,IAAI,iBAAiB,KAAK,MAAM;AAG1D,gBAAI,mBAAmB;AAAA,cACrB;AAAA,YACF;AAEA,0BAAc,GAAG,EAAE,KAAK,CAAC,YAAY;AACnC,oBAAM,cAAc,gBAAgB,SAAS,UAAU;AACvD,oBAAM,YAAY,IAAI,cAAc,OAAO;AAE3C,0BAAY,aAAa,SAAS,EAC/B,KAAK,CAAC,YAAY;AACjB,yBAAQ,mCAAS,cAAa,CAAC,CAAC;AAChC,oCAAoB,IAAI;AAAA,cAC1B,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,wBAAQ,IAAI,2BAA2B,GAAG;AAAA,cAC5C,CAAC,EACA,QAAQ,MAAM;AACb,4BAAY,UAAU;AAAA,cACxB,CAAC;AAAA,YACL,CAAC;AAAA,UACH;AAAA,UACA,CAAC,QAAQ,WAAW;AAAA,QACtB;AAEA,cAAM,iBAAa;AAAA,UACjB,CAAC,MAAM;AACL,cAAE,eAAe;AAEjB,kBAAM,MAAM,OAAO;AAEnB,gBAAI,CAAC,IAAK;AAEV,wBAAY,UAAU;AAEtB,kBAAM,cAAc,gBAAgB,IAAI,UAAU,GAAG,UAAU;AAC/D,kBAAM,YAAY,YAAY,aAAa,EAAE,KAAK;AAClD,kBAAM,YAAY,YAAY,aAAa,EAAE,KAAK;AAElD,kBAAM,SAAS;AAAA,cACb,WAAW;AAAA,gBACT,KAAK,OAAO,UAAU,GAAG;AAAA,gBACzB,KAAK,OAAO,UAAU,GAAG;AAAA,cAC3B;AAAA,cACA,WAAW;AAAA,gBACT,KAAK,OAAO,UAAU,GAAG;AAAA,gBACzB,KAAK,OAAO,UAAU,GAAG;AAAA,cAC3B;AAAA,YACF,CAAC;AAED,gBAAI,cAAc;AAChB,mBAAK,OAAO;AAAA,YACd;AAAA,UACF;AAAA,UACA,CAAC,OAAO,MAAM;AAAA,QAChB;AAEA,cAAM,CAAC,cAAc,eAAe,QAAI,wBAAS,KAAK;AAEtD,cAAM,eAAW,2BAAY,MAAM;AACjC,gBAAM,MAAM,OAAO;AAEnB,gBAAM,UAAU,IAAI,UAAU;AAC9B,gBAAM,cAAc,gBAAgB,SAAS,UAAU;AACvD,gBAAM,YAAY,IAAI,cAAc,OAAO;AAE3C,0BAAgB,WAAW;AAE3B,cAAI,oBAAoB,SAAS;AAC/B,gCAAoB,UAAU;AAC9B;AAAA,UACF;AAEA,gBAAM,EAAE,SAAS,QAAQ,IAAI;AAC7B,sBAAY,aAAa,SAAS,EAC/B,KAAK,CAAC,UAAU,QAAQ,SAAQ,+BAAO,cAAa,CAAC,CAAC,CAAC,EACvD,MAAM,CAAC,QAAQ;AACd,oBAAQ,IAAI,sBAAsB,GAAG;AAAA,UACvC,CAAC;AAAA,QACL,GAAG,CAAC,aAAa,GAAG,CAAC;AAErB,cAAM,wBAAoB;AAAA,UACxB,MACE,CAAC,gBACE,cAAc,MAAM,OAAO;AAAA,YAC5B,WAAW,aAAa,aAAa,EAAE,KAAK;AAAA,YAC5C,WAAW,aAAa,aAAa,EAAE,KAAK;AAAA,UAC9C,CAAC;AAAA,UACH,CAAC,MAAM,OAAO,YAAY;AAAA,QAC5B;AAEA,cAAM,6BAAyB;AAAA,UAC7B,OAAO;AAAA,YACL,QAAQ,KAAK;AAAA,UACf;AAAA,UACA,CAAC,KAAK,MAAM;AAAA,QACd;AAEA,eACE,8EACE;AAAA;AAAA,YAAC;AAAA;AAAA,cACC;AAAA,cACA;AAAA,cACA,WAAW;AAAA,cAEX,iBAAe;AAAA,cACf;AAAA,cACA,iBAAe;AAAA,cACf,eAAa;AAAA,cAGb;AAAA,6DAAC,kCAAU,aAAa,iBAAiB,KAAK,SAAS;AAAA,gBAEtD,mBACG,KAAK,IAAI,CAAC,UACV;AAAA,kBAAC;AAAA;AAAA,oBAEC,YAAY,MAAM;AAAA,oBAClB,UAAU,MAAM;AAAA,oBAChB,WAAW,MAAM;AAAA;AAAA,kBAHZ,MAAM;AAAA,gBAIb,CACD,IACC;AAAA,gBAEJ,6CAAC,aAAU,UAAoB;AAAA;AAAA;AAAA,UACjC;AAAA,UAEC,CAAC,oBACA,6CAAC,8BAA2B,YAAwB,IAClD;AAAA,WACN;AAAA,MAEJ;AAAA,IACF;AAEA,IAAO,cAAQ;AAAA;AAAA;;;ACjZf;AAAA;AAAA;AAAA;AAAA;AAAA,IAAAC,iBAA6C;AAC7C,IAAAC,2BAAgC;AAChC,IAAAC,qBAAwC;;;ACFxC,IAAAC,gBAAkB;AAClB,IAAAA,gBAAoB;AACpB,IAAAC,qBAAe;;;ACFf,sBAAqB;AA+BrB,IAAM,uBAAmB,gBAAAC;AAAA,EACvB,MAAM;AAAA,EACN,EAAE,KAAK,MAAM;AACf;AAEA,IAAO,sBAAQ;;;ACpCR,IAAM,qBAAqB;AAAA,EAChC,2BAA2B;AAAA,IACzB,iBAAiB;AAAA,EACnB;AAAA,EACA,+BAA+B;AAAA,IAC7B,iBAAiB;AAAA,EACnB;AAAA,EACA,4BAA4B;AAAA,IAC1B,iBAAiB;AAAA,EACnB;AAAA,EACA,gCAAgC;AAAA,IAC9B,iBAAiB;AAAA,EACnB;AAAA,EACA,2BAA2B;AAAA,IACzB,iBAAiB;AAAA,EACnB;AAAA,EACA,+BAA+B;AAAA,IAC7B,iBAAiB;AAAA,EACnB;AAAA,EACA,qBAAqB;AAAA,IACnB,gBAAgB;AAAA,IAChB,cAAc;AAAA,EAChB;AAAA,EACA,yBAAyB;AAAA,IACvB,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,WAAW;AAAA,IACX,cAAc;AAAA,IACd,MAAM;AAAA,EACR;AAAA,EACA,0BAA0B;AAAA,IACxB,YAAY;AAAA,EACd;AACF;AAEO,IAAM,uBAAuB;AAAA,EAClC,oCAAoC;AAAA,IAClC,OAAO;AAAA,IACP,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,gBAAgB;AAAA,IAChB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,UAAU;AAAA,IACV,KAAK;AAAA,IACL,MAAM;AAAA,IACN,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,QAAQ;AAAA,IACR,eAAe;AAAA,IACf,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,SAAS;AAAA,EACX;AAAA,EACA,4CAA4C;AAAA,IAC1C,oBAAoB;AAAA,IACpB,SAAS;AAAA,EACX;AAAA,EACA,0CAA0C;AAAA,IACxC,SAAS;AAAA,EACX;AAAA,EACA,2CAA2C;AAAA,IACzC,SAAS;AAAA,EACX;AACF;;;AF/BM,IAAAC,sBAAA;AA5BN,IAAM,oBAAoB;AAAA;AAAA;AAI1B,IAAM,WAAW;AAAA;AAAA,IAEb,kBAAkB;AAAA,IAClB,oBAAoB;AAAA;AAGxB,SAAS,SACP;AAAA,EACE;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GACA,KACA;AACA,SAAO,CAAC,YACN,6CAAC,SAAI,KAAK,mBAAmB,eAAW,mBAAAC,SAAG,WAAW,QAAQ,GAC5D;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,KAAK;AAAA;AAAA,EACP,GACF,IACE;AACN;AAEA,IAAO,mBAAQ,cAAAC,QAAM,WAAW,QAAQ;;;AGrDxC,IAAAC,gBAAkB;AAClB,IAAAC,2BAAyB;;;ACDzB,IAAAC,gBAAwB;AACxB,IAAAC,qBAAwB;;;ACDxB,kBAA+B;;;ACA/B,IAAAC,qBAA+B;AAE/B,IAAO,2BAAQ,mCAAe;AAAA,EAC5B,KAAK;AAAA,IACH,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,QAAQ;AAAA,IACN,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,WAAW;AAAA,IACT,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,WAAW;AAAA,IACT,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,aAAa;AAAA,IACX,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,iBAAiB;AAAA,IACf,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,iBAAiB;AAAA,IACf,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,UAAU;AAAA,IACR,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,UAAU;AAAA,IACR,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,QAAQ;AAAA,IACN,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,YAAY;AAAA,IACV,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,aAAa;AAAA,IACX,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,MAAM;AAAA,IACJ,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,aAAa;AAAA,IACX,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,SAAS;AAAA,IACP,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,WAAW;AAAA,IACT,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,WAAW;AAAA,IACT,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,SAAS;AAAA,IACP,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,OAAO;AAAA,IACL,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,gBAAgB;AAAA,IACd,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,QAAQ;AAAA,IACN,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,UAAU;AAAA,IACR,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,eAAe;AAAA,IACb,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,WAAW;AAAA,IACT,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AACF,CAAC;;;ADhGc,SAAR,eACL,MACA,kBACA,YACA,aACA;AACA,QAAMC,YAAW,oBAAoB;AAErC,MAAI,2CAAa,OAAO;AACtB,eAAO,4BAAe,YAAY,OAAO,KAAK,MAAM;AAAA,EACtD;AAEA,MAAIA,UAAS,UAAU,GAAG;AACxB,WAAO,KAAK,cAAcA,UAAS,UAAU,CAAC;AAAA,EAChD;AAEA,SAAO;AACT;;;ADhBe,SAAR,eAAgC,YAAY,aAAaC,WAAU;AACxE,QAAM,WAAO,4BAAQ;AAErB,aAAO;AAAA,IACL,MAAM,eAAe,MAAMA,WAAU,YAAY,WAAW;AAAA,IAC5D,CAAC,MAAMA,WAAU,YAAY,WAAW;AAAA,EAC1C;AACF;;;ADKW,IAAAC,sBAAA;AAZX,IAAM,eAAe,EAAE,OAAO,KAAK;AAEpB,SAAR,MAAuB,EAAE,MAAM,QAAQ,WAAW,GAAG,KAAK,GAAG;AANpE;AAOE,QAAM,QAAQ,eAAe,MAAM,OAAO,WAAW;AACrD,QAAM,YAAQ,mCAAS,MAAM,EAAE,aAAa,CAAC;AAE7C,QAAM,EAAE,MAAM,IAAI;AAElB,MACE,GAAC,WAAM,UAAN,mBAAa,WACX,EAAE,OAAO,MAAM,UAAU,YAAY,MAAM,UAAU,OACxD;AACA,WAAO,6CAAC,SAAK,iBAAM;AAAA,EACrB;AAEA,MAAI,CAAC,WAAW;AACd,WAAO;AAAA,EACT;AAEA,SACE,8CAAC,SAAI,WAAU,aACb;AAAA,iDAAC,UAAK,WAAU,oBAAoB,iBAAM;AAAA,IACzC,cAAAC,QAAM,cAAc,WAAW;AAAA,MAC9B;AAAA,MACA;AAAA,MACA,WAAW;AAAA,MACX,WAAW;AAAA,MACX,GAAG;AAAA,IACL,CAAC;AAAA,KACH;AAEJ;;;AInCA,IAAAC,gBAAkC;AAClC,IAAAC,qBAAe;AACf,qCAAoC;AA4B9B,IAAAC,sBAAA;AA1BS,SAAR,MAAuB;AAAA,EAC5B,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AACF,GAAG;AAED,QAAM,oBAAgB,wBAAS,SAAS;AAExC,QAAM,QAAQ,OAAO,iBAAiB,aAAa,YAAY,cAAc,CAAC;AAC9E,QAAM,UAAU,OAAO,iBAAiB,aAAa,eAAe,cAAc,CAAC;AAEnF,QAAM,sBAAkB;AAAA,IACtB,UACE,+BAAAC,SAAwB,CAAC,MAAM;AAC7B,QAAE,eAAe;AAEjB,cAAQ,CAAC,MAAM,CAAC,CAAC;AAAA,IACnB,CAAC;AAAA,IACH,CAAC,OAAO;AAAA,EACV;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC,eAAW,mBAAAC,SAAG,oBAAoB,EAAE,2BAA2B,CAAC,MAAM,CAAC;AAAA,MAEvE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,UAAS;AAAA,YACT,iBAAe,CAAC;AAAA,YAChB,SAAS;AAAA,YACT,YAAY;AAAA,YAEX;AAAA;AAAA,cACD,6CAAC,UAAK,WAAU,qBACd;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAW,mBAAAA,SAAG,YAAY;AAAA,oBACxB,eAAe,CAAC;AAAA,oBAChB,iBAAiB;AAAA,kBACnB,CAAC;AAAA,kBACD,eAAY;AAAA;AAAA,cACd,GACF;AAAA;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,eAAW,mBAAAA,SAAG,uBAAuB;AAAA,cACnC,8BAA8B,CAAC;AAAA,cAC/B,gCAAgC;AAAA,YAClC,CAAC;AAAA,YACD,MAAK;AAAA,YAEL,uDAAC,SAAI,WAAU,2BAA2B,UAAS;AAAA;AAAA,QACrD;AAAA;AAAA;AAAA,EACF;AAEJ;;;AC5DA,IAAAC,qBAAuB;AACvB,IAAAC,qBAAwC;AACxC,IAAAC,gBAAoB;AACpB,IAAAC,eAA+B;AAqB3B,IAAAC,sBAAA;AAnBJ,IAAM,eAAW,mCAAe;AAAA,EAC9B,cAAc;AAAA,IACZ,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AAAA,EACA,uBAAuB;AAAA,IACrB,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AACF,CAAC;AAEc,SAAR,WAA4B,EAAE,OAAO,OAAO,UAAU,SAAS,GAAG;AACvE,QAAM,WAAO,4BAAQ;AAErB,QAAM,cAAa,+BAAO,UACtB,KAAK,cAAc,SAAS,uBAAuB,EAAE,MAAM,CAAC,IAC5D,KAAK,cAAc,SAAS,YAAY;AAE5C,SACE;AAAA,IAAC;AAAA;AAAA,MACC,MAAK;AAAA,MACL,OAAO;AAAA,MACP,eAAW,mBAAAC,SAAW,mDAAmD;AAAA,QACvE;AAAA,MACF,CAAC;AAAA,MACD,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAWL,SAAS;AAAA,MAER;AAAA,yCAAe,OAAO,KAAK,MAAM;AAAA,QAAE;AAAA,QAEpC,6CAAC,OAAE,WAAU,eAAc,eAAY,QAAO;AAAA;AAAA;AAAA,EAChD;AAEJ;;;AC9BM,IAAAC,sBAAA;AAfS,SAAR,gBAAiC;AAAA,EACtC,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,QAAQ,eAAe,MAAM,OAAO,WAAW;AAGrD,MAAI,6CAAc,QAAQ;AACxB,WACE,6EACG,uBAAa,IAAI,CAAC,WACjB,6CAAC,UAAwB,WACvB;AAAA,MAAC;AAAA;AAAA,QACC,OAAO,OAAO;AAAA,QACd,UAAU,SAAS,MAAM;AAAA,QACzB;AAAA,QACA,OAAO,YAAY,QAAQ;AAAA;AAAA,IAC7B,KANS,OAAO,KAOlB,CACD,GACH;AAAA,EAEJ;AAGA,MAAI,OAAO;AACT,WACE,6CAAC,UAAK,WACJ;AAAA,MAAC;AAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA,OAAO,YAAY,QAAQ;AAAA;AAAA,IAC7B,GACF;AAAA,EAEJ;AAEA,SAAO;AACT;;;AVmBI,IAAAC,sBAAA;AA3DJ,IAAMC,gBAAe,EAAE,OAAO,KAAK;AAEnC,IAAMC,gBAAW,mCAAe;AAAA,EAC9B,cAAc;AAAA,IACZ,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AACF,CAAC;AAED,SAAS,QAAQ;AAAA,EACf;AAAA,EACA;AAAA,EACA,YAAY;AAAA,EACZ;AAAA,EACA,GAAG;AACL,GAAG;AACD,QAAM,WAAO,4BAAQ;AACrB,QAAM,EAAE,MAAM,QAAI,mCAAS,MAAM,EAAE,cAAAD,cAAa,CAAC;AAEjD,QAAM,eAAW;AAAA,IACf,CAAC,MAAM;AACL,QAAE,gBAAgB;AAElB,UAAI,UAAU;AACZ;AAAA,MACF;AAEA,YAAM,SAAS,MAAS;AAAA,IAC1B;AAAA,IACA,CAAC,OAAO,QAAQ;AAAA,EAClB;AAEA,MAAI,CAAC,MAAM,SAAS,MAAM,UAAU,IAAI;AACtC,WAAO;AAAA,EACT;AAEA,SAAO,eAAAE,QAAM,cAAc,WAAW;AAAA,IACpC;AAAA,IACA;AAAA,IACA,OAAO,KAAK,cAAcD,UAAS,YAAY;AAAA,IAC/C;AAAA,IACA;AAAA,IACA,GAAG;AAAA,EACL,CAAC;AACH;AAEA,SAAS,UACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY;AAAA,EACZ,GAAG;AACL,GACA,KACA;AACA,SACE;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA,cAAcD;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACC,GAAG;AAAA;AAAA,EACN;AAIJ;AAEA,IAAM,cAAc,eAAAE,QAAM,WAAW,SAASC,aAC5C,EAAE,MAAM,QAAQ,UAAU,GAAG,KAAK,GAClC,KACA;AACA,QAAM,CAAC,WAAW,YAAY,QAAI,yBAAS,IAAI;AAE/C,SACE;AAAA,IAAC;AAAA;AAAA,MACC,QACE;AAAA,QAAC;AAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA,WAAW;AAAA,UACX;AAAA;AAAA,MACF;AAAA,MAEF;AAAA,MACA;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACC,GAAG;AAAA;AAAA,MACN;AAAA;AAAA,EACF;AAEJ,CAAC;AAED,IAAM,WAAW,eAAAD,QAAM,KAAK,eAAAA,QAAM,WAAW,SAAS,CAAC;AAGvD,SAAS,UAAU;AACnB,SAAS,cAAc;AAEvB,IAAO,oBAAQ;","names":["import_react","import_react_intl","L","cn","import_react","import_react_intl","import_jsx_runtime","React","import_react","import_react_final_form","import_react_intl","import_react","import_classnames","loadable","import_jsx_runtime","cn","React","import_react","import_react_final_form","import_react","import_react_intl","import_react_intl","messages","messages","import_jsx_runtime","React","import_react","import_classnames","import_jsx_runtime","a11yButtonActionHandler","cn","import_classnames","import_react_intl","import_react","import_intl","import_jsx_runtime","classNames","import_jsx_runtime","import_jsx_runtime","subscription","messages","React","Collapsable"]}