{"version":3,"sources":["../../src/utils/extractWidgetsFromDom.js"],"sourcesContent":["export default function extractWidgetsFromDom() {\n  const widgetElems = document.querySelectorAll('[data-oa-widget]');\n\n  return Array.from(widgetElems, (elem) => {\n    const paramsAttr = elem.getAttribute('data-oa-widget-params');\n    const dataSet = JSON.parse(paramsAttr);\n\n    dataSet.destSelector = `[data-oa-widget=\"${elem.getAttribute('data-oa-widget')}\"][data-oa-widget-params=\"${paramsAttr.replace(\n      /[\"\\\\]/g,\n      '\\\\$&',\n    )}\"]`;\n    dataSet.elem = elem;\n\n    if (dataSet.name === 'favorite') {\n      dataSet.handlerElem = dataSet.handlerSelector\n        ? elem.querySelector(dataSet.handlerSelector)\n        : null;\n      dataSet.activeTargetElem = dataSet.activeTargetSelector\n        ? elem.querySelector(dataSet.activeTargetSelector)\n        : null;\n    }\n\n    return dataSet;\n  });\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAe,SAAR,wBAAyC;AAC9C,QAAM,cAAc,SAAS,iBAAiB,kBAAkB;AAEhE,SAAO,MAAM,KAAK,aAAa,CAAC,SAAS;AACvC,UAAM,aAAa,KAAK,aAAa,uBAAuB;AAC5D,UAAM,UAAU,KAAK,MAAM,UAAU;AAErC,YAAQ,eAAe,oBAAoB,KAAK,aAAa,gBAAgB,CAAC,6BAA6B,WAAW;AAAA,MACpH;AAAA,MACA;AAAA,IACF,CAAC;AACD,YAAQ,OAAO;AAEf,QAAI,QAAQ,SAAS,YAAY;AAC/B,cAAQ,cAAc,QAAQ,kBAC1B,KAAK,cAAc,QAAQ,eAAe,IAC1C;AACJ,cAAQ,mBAAmB,QAAQ,uBAC/B,KAAK,cAAc,QAAQ,oBAAoB,IAC/C;AAAA,IACN;AAEA,WAAO;AAAA,EACT,CAAC;AACH;","names":[]}